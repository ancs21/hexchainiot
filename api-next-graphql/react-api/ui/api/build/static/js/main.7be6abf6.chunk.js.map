{"version":3,"sources":["theme.js","components/use-auth.js","shared/graphq.js","components/add-device.js","components/card-data.js","components/list-data.js","components/sidebar.js","pages/index.js","pages/login.js","pages/g.js","components/chart-data.js","pages/device.js","App.js","serviceWorker.js","index.js"],"names":["theme","createMuiTheme","palette","primary","main","secondary","error","red","A400","background","default","firebase","length","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","authContext","createContext","ProvideAuth","children","auth","useState","user","setUser","isLoading","setLoading","useEffect","unsubscribe","onAuthStateChanged","a","localStorage","currentUser","getIdToken","setItem","signout","signOut","then","removeItem","useProvideAuth","Provider","value","useAuth","useContext","MY_DEVICES","gql","ADD_DEVICE","STATE_BY_ADDRESS","DEVICE_BY_ID","HISTORY_DATA_BLOCKCHAIN_BY_ADDRESS","useStyles","makeStyles","fab","position","bottom","spacing","left","action","marginRight","marginBottom","classes","React","open","setOpen","useMutation","refetchQueries","addDevice","data","handleClose","Tooltip","title","aria-label","Fab","className","color","onClick","initialValues","name","description","validate","values","errors","onSubmit","setSubmitting","variables","handleChange","handleBlur","handleSubmit","isSubmitting","Dialog","maxWidth","fullWidth","onClose","aria-labelledby","DialogTitle","id","DialogContent","DialogContentText","TextField","label","placeholder","margin","variant","onChange","onBlur","DialogActions","Button","type","disabled","size","deviceById","useQuery","address","pollInterval","loading","message","console","log","dataRes","stateByAddress","JSON","parse","Grid","item","xs","sm","Card","CardContent","Typography","gutterBottom","component","width","src","temp","style","marginTop","formatDistanceToNow","Date","timestamp","locale","vi","ph","oxy","pin","root","display","drawer","breakpoints","up","flexShrink","appBar","marginLeft","menuButton","toolbar","mixins","justifyContent","alignItems","drawerPaper","content","flexGrow","padding","extendedIcon","paper","paddingTop","paddingBottom","textCard","paddingLeft","paddingRight","box","textListDevice","idSelect","List","devices","map","to","key","textDecoration","fontSize","ListItem","button","Box","ListItemText","created_at","Divider","textAlign","container","handleDrawerToggle","mobileOpen","useTheme","Hidden","smUp","implementation","Drawer","anchor","direction","ModalProps","keepMounted","xsDown","Index","props","Login","uiConfig","signInFlow","signInOptions","GoogleAuthProvider","PROVIDER_ID","PhoneAuthProvider","callbacks","signInSuccessWithAuthResult","firebaseAuth","ExchangeRates","last","setLast","parseInt","historyDataOnBlockchainByAddress","NativeSelect","e","target","input","Input","FormHelperText","Paper","height","syncId","fill","top","right","vertical","dataKey","tickFormatter","tickItem","format","axisLine","labelFormatter","stroke","Device","setMobileOpen","deviceId","CssBaseline","AppBar","Toolbar","IconButton","edge","noWrap","httpLink","createHttpLink","uri","authLink","setContext","_","headers","token","getItem","authorization","client","ApolloClient","link","concat","cache","InMemoryCache","App","ThemeProvider","path","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.7be6abf6.chunk.js","sourcesContent":["import { red } from '@material-ui/core/colors'\nimport { createMuiTheme } from '@material-ui/core/styles'\n\n// A custom theme for this app\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#556cd6'\n    },\n    secondary: {\n      main: '#19857b'\n    },\n    error: {\n      main: red.A400\n    },\n    background: {\n      default: '#fafafa'\n    }\n  }\n})\n\nexport default theme\n","import React, { useState, useEffect, useContext, createContext } from 'react'\nimport * as firebase from 'firebase/app'\nimport 'firebase/auth'\n\nconst config = {\n  apiKey: 'AIzaSyBtAOTryp1Fmv93HM1qR6j62UNkyfs7aqU',\n  authDomain: 'hexchainiot.firebaseapp.com',\n  databaseURL: 'https://hexchainiot.firebaseio.com',\n  projectId: 'hexchainiot',\n  storageBucket: '',\n  messagingSenderId: '581192912622',\n  appId: '1:581192912622:web:5708ef67b226104c'\n}\n!firebase.apps.length ? firebase.initializeApp(config) : firebase.app()\n\nconst authContext = createContext()\n\nexport function ProvideAuth({ children }) {\n  const auth = useProvideAuth()\n  return <authContext.Provider value={auth}>{children}</authContext.Provider>\n}\n\nexport const useAuth = () => {\n  return useContext(authContext)\n}\n\nexport { firebase }\n\nfunction useProvideAuth() {\n  const [user, setUser] = useState(null)\n  const [isLoading, setLoading] = useState(true)\n  const signout = () => {\n    return firebase\n      .auth()\n      .signOut()\n      .then(() => {\n        setUser(false)\n        localStorage.removeItem('token')\n      })\n  }\n\n  useEffect(() => {\n    const unsubscribe = firebase.auth().onAuthStateChanged(async user => {\n      if (user) {\n        setUser(user)\n        localStorage.setItem(\n          'token',\n          await firebase.auth().currentUser.getIdToken(true)\n        )\n        setLoading(false)\n      } else {\n        setUser(false)\n        setLoading(false)\n      }\n    })\n\n    // Cleanup subscription on unmount\n    return () => unsubscribe()\n  }, [])\n\n  // Return the user object and auth methods\n  return {\n    user,\n    isLoading,\n    signout\n  }\n}\n","import gql from 'graphql-tag'\n\nexport const MY_DEVICES = gql`\n  query myDevices {\n    devices {\n      id\n      name\n      description\n      address\n      created_at\n    }\n  }\n`\n\nexport const ADD_DEVICE = gql`\n  mutation add_device($name: String, $description: String) {\n    add_device(name: $name, description: $description) {\n      id\n      name\n      description\n      address\n      created_at\n    }\n  }\n`\n\nexport const STATE_BY_ADDRESS = gql`\n  query stateByaddress($address: String) {\n    stateByAddress(address: $address) {\n      data\n    }\n  }\n`\n\nexport const DEVICE_BY_ID = gql`\n  query deviceById($deviceId: String) {\n    deviceById(deviceId: $deviceId) {\n      id\n      created_at\n      name\n      description\n      address\n    }\n  }\n`\n\nexport const HISTORY_DATA_BLOCKCHAIN_BY_ADDRESS = gql`\n  query historyDataOnBlockchainByAddress($address: String, $last: Int) {\n    historyDataOnBlockchainByAddress(address: $address, last: $last) {\n      timestamp\n      temp\n      ph\n      pin\n      oxy\n    }\n  }\n`\n","import React from 'react'\nimport Fab from '@material-ui/core/Fab'\nimport AddIcon from '@material-ui/icons/Add'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport Button from '@material-ui/core/Button'\nimport TextField from '@material-ui/core/TextField'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport { Formik, Form } from 'formik'\nimport { makeStyles } from '@material-ui/core/styles'\n\nimport { useMutation } from '@apollo/react-hooks'\nimport { ADD_DEVICE } from '../shared/graphq'\n\nconst useStyles = makeStyles(theme => ({\n  fab: {\n    position: 'fixed',\n    bottom: theme.spacing(2),\n    left: theme.spacing(2)\n  },\n  action: {\n    marginRight: theme.spacing(2),\n    marginBottom: theme.spacing(2)\n  }\n}))\n\nexport default () => {\n  const classes = useStyles()\n  const [open, setOpen] = React.useState(false)\n\n  const [addDevice, { data }] = useMutation(ADD_DEVICE, {\n    refetchQueries: [`myDevices`]\n  })\n\n  function handleClickOpen() {\n    setOpen(true)\n  }\n\n  function handleClose() {\n    setOpen(false)\n  }\n\n  return (\n    <>\n      <Tooltip title=\"Add new device\" aria-label=\"add\">\n        <Fab\n          aria-label=\"add-form\"\n          className={classes.fab}\n          color=\"primary\"\n          onClick={handleClickOpen}\n        >\n          <AddIcon />\n        </Fab>\n      </Tooltip>\n      <Formik\n        initialValues={{ name: '', description: '' }}\n        validate={values => {\n          let errors = {}\n          if (!values.name) {\n            errors.name = 'Required'\n          }\n          return errors\n        }}\n        onSubmit={(values, { setSubmitting }) => {\n          setSubmitting(false)\n          addDevice({ variables: { ...values } })\n          setSubmitting(true)\n          handleClose()\n        }}\n      >\n        {({\n          values,\n          errors,\n          handleChange,\n          handleBlur,\n          handleSubmit,\n          isSubmitting\n        }) => (\n          <Form>\n            <Dialog\n              maxWidth=\"sm\"\n              fullWidth={true}\n              open={open}\n              onClose={handleClose}\n              aria-labelledby=\"form-dialog-title\"\n            >\n              <DialogTitle id=\"form-dialog-title\">Add Device</DialogTitle>\n              <DialogContent>\n                <DialogContentText>\n                  Add a name and description for device\n                </DialogContentText>\n\n                <TextField\n                  id=\"form-name\"\n                  label=\"Name\"\n                  fullWidth={true}\n                  placeholder=\"eg. Contact Page\"\n                  margin=\"normal\"\n                  variant=\"outlined\"\n                  name=\"name\"\n                  error={errors.name ? true : false}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  value={values.name}\n                />\n\n                <TextField\n                  id=\"form-description\"\n                  label=\"Description\"\n                  placeholder=\"eg. For website kene.io\"\n                  fullWidth={true}\n                  margin=\"normal\"\n                  variant=\"outlined\"\n                  name=\"description\"\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  value={values.description}\n                />\n              </DialogContent>\n              <DialogActions className={classes.action}>\n                <Button\n                  type=\"submit\"\n                  disabled={isSubmitting}\n                  color=\"primary\"\n                  variant=\"contained\"\n                  size=\"large\"\n                  onClick={handleSubmit}\n                >\n                  Add Device\n                </Button>\n              </DialogActions>\n            </Dialog>\n          </Form>\n        )}\n      </Formik>\n    </>\n  )\n}\n","import React from 'react'\nimport Card from '@material-ui/core/Card'\nimport Typography from '@material-ui/core/Typography'\nimport CardContent from '@material-ui/core/CardContent'\nimport Grid from '@material-ui/core/Grid'\nimport { formatDistanceToNow } from 'date-fns'\nimport { vi } from 'date-fns/locale'\n\nimport { useQuery } from '@apollo/react-hooks'\nimport { STATE_BY_ADDRESS } from '../shared/graphq'\n\nexport default ({ deviceById }) => {\n  const { loading, error, data } = useQuery(STATE_BY_ADDRESS, {\n    variables: {\n      address: deviceById.address\n    },\n    pollInterval: 1000\n  })\n  if (loading) return <p>Loading...</p>\n  if (error) return <p>{error.message}</p>\n  console.log(data)\n  const dataRes =\n    data && data.stateByAddress ? JSON.parse(data.stateByAddress.data) : null\n  if (!dataRes) return <p>No data</p>\n\n  return (\n    <>\n      <Grid item xs={6} sm={3}>\n        <Card>\n          <CardContent>\n            <Typography gutterBottom>Cảm biến Nhiệt độ</Typography>\n            <Typography variant=\"h3\" component=\"h2\">\n              <img width=\"48\" src=\"/static/icons/temp.png\" /> {dataRes.temp}{' '}\n              <Typography variant=\"button\" component=\"span\">\n                °C\n              </Typography>\n            </Typography>\n            <Typography\n              variant=\"body2\"\n              color=\"textSecondary\"\n              style={{ marginTop: '10px' }}\n            >\n              Mới nhất{' '}\n              {formatDistanceToNow(new Date(dataRes.timestamp), { locale: vi })}{' '}\n              trước\n            </Typography>\n          </CardContent>\n        </Card>\n      </Grid>\n\n      <Grid item xs={6} sm={3}>\n        <Card>\n          <CardContent>\n            <Typography gutterBottom>Cảm biến pH</Typography>\n            <Typography variant=\"h3\" component=\"h2\">\n              <img width=\"48\" src=\"/static/icons/ph-meter.png\" /> {dataRes.ph}\n            </Typography>\n            <Typography\n              variant=\"body2\"\n              color=\"textSecondary\"\n              style={{ marginTop: '10px' }}\n            >\n              Mới nhất{' '}\n              {formatDistanceToNow(new Date(dataRes.timestamp), { locale: vi })}{' '}\n              trước\n            </Typography>\n          </CardContent>\n        </Card>\n      </Grid>\n\n      <Grid item xs={6} sm={3}>\n        <Card>\n          <CardContent>\n            <Typography gutterBottom>Cảm biến Oxy hòa tan</Typography>\n            <Typography variant=\"h3\" component=\"h2\">\n              <img width=\"48\" src=\"/static/icons/oxygen.png\" /> {dataRes.oxy}{' '}\n              <Typography variant=\"button\" component=\"span\">\n                PPM\n              </Typography>\n            </Typography>\n            <Typography\n              variant=\"body2\"\n              color=\"textSecondary\"\n              style={{ marginTop: '10px' }}\n            >\n              Mới nhất{' '}\n              {formatDistanceToNow(new Date(dataRes.timestamp), { locale: vi })}{' '}\n              trước\n            </Typography>\n          </CardContent>\n        </Card>\n      </Grid>\n\n      <Grid item xs={6} sm={3}>\n        <Card>\n          <CardContent>\n            <Typography gutterBottom>Dung lượng Pin</Typography>\n            <Typography variant=\"h3\" component=\"h2\">\n              <img width=\"48\" src=\"/static/icons/battery.png\" /> {dataRes.pin}{' '}\n              <Typography variant=\"button\" component=\"span\">\n                %\n              </Typography>\n            </Typography>\n            <Typography\n              variant=\"body2\"\n              color=\"textSecondary\"\n              style={{ marginTop: '10px' }}\n            >\n              Mới nhất{' '}\n              {formatDistanceToNow(new Date(dataRes.timestamp), { locale: vi })}{' '}\n              trước\n            </Typography>\n          </CardContent>\n        </Card>\n      </Grid>\n    </>\n  )\n}\n","import React from 'react'\n\nimport Divider from '@material-ui/core/Divider'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport Typography from '@material-ui/core/Typography'\nimport Box from '@material-ui/core/Box'\n\nimport { Link } from '@reach/router'\n\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\nimport { useQuery } from '@apollo/react-hooks'\nimport { MY_DEVICES } from '../shared/graphq'\n\nconst drawerWidth = 345\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex'\n  },\n  drawer: {\n    [theme.breakpoints.up('sm')]: {\n      width: drawerWidth,\n      flexShrink: 0\n    }\n  },\n  appBar: {\n    marginLeft: drawerWidth,\n    [theme.breakpoints.up('sm')]: {\n      width: `calc(100% - ${drawerWidth}px)`\n    }\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up('sm')]: {\n      display: 'none'\n    }\n  },\n  toolbar: {\n    ...theme.mixins.toolbar,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  drawerPaper: {\n    width: drawerWidth\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3)\n  },\n\n  extendedIcon: {\n    marginRight: theme.spacing(1)\n  },\n  paper: {\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2)\n  },\n  textCard: {\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    paddingBottom: theme.spacing(2)\n  },\n  box: {\n    paddingRight: theme.spacing(2)\n  },\n  item: {\n    paddingBottom: theme.spacing(2)\n  },\n  textListDevice: {\n    paddingTop: theme.spacing(1),\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    paddingBottom: theme.spacing(1)\n  },\n  fab: {\n    position: 'absolute',\n    bottom: theme.spacing(2),\n    left: theme.spacing(2)\n  }\n}))\n\nexport default ({ idSelect }) => {\n  const classes = useStyles()\n\n  const { loading, error, data } = useQuery(MY_DEVICES)\n  if (loading) return <p>Loading...</p>\n  if (error) return <p>{error.message}</p>\n\n  return (\n    <List style={{ paddingTop: 0 }}>\n      {data && data.devices && data.devices.length ? (\n        data.devices.map(item => (\n          <Link\n            to={`/${item.id}`}\n            key={item.id}\n            style={{\n              textDecoration: 'initial',\n              color: 'initial',\n              fontSize: 'initial'\n            }}\n          >\n            <ListItem\n              button={true}\n              style={item.id === idSelect ? { background: '#eff3f6' } : null}\n            >\n              <Box className={classes.item}>\n                <Typography variant=\"body1\" style={{ marginTop: '6px' }}>\n                  {item.name}\n                </Typography>\n                <ListItemText secondary={item.created_at} />\n                <Typography variant=\"body2\">{item.description}</Typography>\n              </Box>\n            </ListItem>\n            <Divider />\n          </Link>\n        ))\n      ) : (\n        <Box\n          display=\"flex\"\n          justifyContent=\"center\"\n          alignItems=\"center\"\n          marginTop=\"50px\"\n        >\n          <Box textAlign=\"center\">\n            <img width=\"200\" src=\"/static/svg/no-device.svg\" />\n            <Typography style={{ marginTop: '16px' }}>\n              Không có thiết bị\n            </Typography>\n          </Box>\n        </Box>\n      )}\n    </List>\n  )\n}\n","import React from 'react'\n\nimport Divider from '@material-ui/core/Divider'\nimport Drawer from '@material-ui/core/Drawer'\nimport Hidden from '@material-ui/core/Hidden'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport Typography from '@material-ui/core/Typography'\nimport Box from '@material-ui/core/Box'\nimport AppBar from '@material-ui/core/AppBar'\nimport MenuIcon from '@material-ui/icons/Menu'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport IconButton from '@material-ui/core/IconButton'\n\nimport isEmpty from 'lodash/isEmpty'\n\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\nimport { useQuery } from '@apollo/react-hooks'\nimport { MY_DEVICES } from '../shared/graphq'\nimport AddDevice from '../components/add-device'\nimport ListDevices from '../components/list-data'\n\nconst drawerWidth = 340\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex'\n  },\n  drawer: {\n    [theme.breakpoints.up('sm')]: {\n      width: drawerWidth,\n      flexShrink: 0\n    }\n  },\n  appBar: {\n    marginLeft: drawerWidth,\n    [theme.breakpoints.up('sm')]: {\n      width: `calc(100% - ${drawerWidth}px)`\n    }\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up('sm')]: {\n      display: 'none'\n    }\n  },\n  toolbar: {\n    ...theme.mixins.toolbar,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  drawerPaper: {\n    width: drawerWidth\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3)\n  },\n\n  extendedIcon: {\n    marginRight: theme.spacing(1)\n  },\n  paper: {\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2)\n  },\n  textCard: {\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    paddingBottom: theme.spacing(2)\n  },\n  box: {\n    paddingRight: theme.spacing(2)\n  },\n  item: {\n    // paddingLeft: theme.spacing(2),\n    // paddingRight: theme.spacing(2),\n    paddingBottom: theme.spacing(2)\n  },\n  textListDevice: {\n    paddingTop: theme.spacing(1),\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    paddingBottom: theme.spacing(1)\n  },\n  fab: {\n    position: 'absolute',\n    bottom: theme.spacing(2),\n    left: theme.spacing(2)\n  }\n}))\n\nexport default ({ container, handleDrawerToggle, mobileOpen, idSelect }) => {\n  const classes = useStyles()\n  const theme = useTheme()\n\n  const drawer = (\n    <div>\n      <div className={classes.toolbar}>\n        <img width=\"45\" src=\"/static/logo.png\" />\n      </div>\n      <Divider />\n      <Typography\n        variant=\"button\"\n        display=\"block\"\n        className={classes.textListDevice}\n      >\n        Danh sách thiết bị\n      </Typography>\n      <Divider />\n      <Divider />\n\n      <ListDevices idSelect={idSelect} />\n      <AddDevice />\n    </div>\n  )\n\n  return (\n    <nav className={classes.drawer} aria-label=\"mailbox folders\">\n      <Hidden smUp implementation=\"css\">\n        <Drawer\n          container={container}\n          variant=\"temporary\"\n          anchor={theme.direction === 'rtl' ? 'right' : 'left'}\n          open={mobileOpen}\n          onClose={handleDrawerToggle}\n          classes={{\n            paper: classes.drawerPaper\n          }}\n          ModalProps={{\n            keepMounted: true\n          }}\n        >\n          {drawer}\n        </Drawer>\n      </Hidden>\n      <Hidden xsDown implementation=\"css\">\n        <Drawer\n          classes={{\n            paper: classes.drawerPaper\n          }}\n          variant=\"permanent\"\n          open\n        >\n          {drawer}\n        </Drawer>\n      </Hidden>\n    </nav>\n  )\n}\n","import React from 'react'\nimport AppBar from '@material-ui/core/AppBar'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport Divider from '@material-ui/core/Divider'\nimport Drawer from '@material-ui/core/Drawer'\nimport Hidden from '@material-ui/core/Hidden'\nimport IconButton from '@material-ui/core/IconButton'\nimport InboxIcon from '@material-ui/icons/MoveToInbox'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport MailIcon from '@material-ui/icons/Mail'\nimport MenuIcon from '@material-ui/icons/Menu'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport Typography from '@material-ui/core/Typography'\nimport Button from '@material-ui/core/Button'\nimport AddIcon from '@material-ui/icons/Add'\nimport Paper from '@material-ui/core/Paper'\nimport Grid from '@material-ui/core/Grid'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport NativeSelect from '@material-ui/core/NativeSelect'\nimport Input from '@material-ui/core/Input'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport Chip from '@material-ui/core/Chip'\nimport Fab from '@material-ui/core/Fab'\n\nimport { useQuery } from '@apollo/react-hooks'\nimport { gql } from 'apollo-boost'\nimport { MY_DEVICES } from '../shared/graphq'\nimport AddDevice from '../components/add-device'\nimport CardData from '../components/card-data'\nimport Sidebar from '../components/sidebar'\n\nimport {\n  LineChart,\n  Line,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  Brush,\n  AreaChart,\n  Area\n} from 'recharts'\nimport ResponsiveContainer from 'recharts/lib/component/ResponsiveContainer'\n\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\nimport { Box } from '@material-ui/core'\n\nconst drawerWidth = 345\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex'\n  },\n  drawer: {\n    [theme.breakpoints.up('sm')]: {\n      width: drawerWidth,\n      flexShrink: 0\n    }\n  },\n  appBar: {\n    marginLeft: drawerWidth,\n    [theme.breakpoints.up('sm')]: {\n      width: `calc(100% - ${drawerWidth}px)`\n    }\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up('sm')]: {\n      display: 'none'\n    }\n  },\n  toolbar: {\n    ...theme.mixins.toolbar,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  drawerPaper: {\n    width: drawerWidth\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3)\n  },\n\n  extendedIcon: {\n    marginRight: theme.spacing(1)\n  },\n  paper: {\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2)\n  },\n  textCard: {\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    paddingBottom: theme.spacing(2)\n  },\n  box: {\n    paddingRight: theme.spacing(2)\n  },\n  item: {\n    // paddingLeft: theme.spacing(2),\n    // paddingRight: theme.spacing(2),\n    paddingBottom: theme.spacing(2)\n  },\n  textListDevice: {\n    paddingTop: theme.spacing(1),\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    paddingBottom: theme.spacing(1)\n  },\n  fab: {\n    position: 'absolute',\n    bottom: theme.spacing(2),\n    left: theme.spacing(2)\n  }\n}))\n\nfunction Index(props) {\n  const { container } = props\n  const classes = useStyles()\n  const theme = useTheme()\n  const [mobileOpen, setMobileOpen] = React.useState(false)\n\n  function handleDrawerToggle() {\n    setMobileOpen(!mobileOpen)\n  }\n\n  const { loading, error, data } = useQuery(MY_DEVICES)\n\n  if (loading) return <p>Loading...</p>\n  if (error) return <p>{error.message}</p>\n  console.log(data)\n  const drawer = (\n    <div>\n      <div className={classes.toolbar}>\n        {/* <Button variant=\"outlined\" color=\"primary\" className={classes.button}>\n          <AddIcon className={classes.extendedIcon} />\n          Thêm thiết bị\n        </Button> */}\n        <img width=\"45\" src=\"/static/logo.png\" />\n      </div>\n\n      <Divider />\n      <Typography\n        variant=\"button\"\n        display=\"block\"\n        className={classes.textListDevice}\n      >\n        Danh sách thiết bị\n      </Typography>\n\n      <Divider />\n      <Divider />\n      <List style={{ paddingTop: 0 }}>\n        {/* <ListItem button={true}>\n          <Box className={classes.item}>\n            <ListItemText\n              primary=\"Libelium smart water 001\"\n              secondary=\"July 20, 2014\"\n            />\n            <Typography variant=\"caption\">\n              Giám sát môi trường nước tại khu công nghiệp\n            </Typography>\n          </Box>\n        </ListItem> */}\n        {data && data.devices.length > 0 ? (\n          data.devices.map(item => (\n            <div key={item.id}>\n              <ListItem button={true}>\n                <Box className={classes.item}>\n                  <ListItemText\n                    primary={item.name}\n                    secondary={item.created_at}\n                  />\n                  <Typography variant=\"caption\">{item.description}</Typography>\n                </Box>\n              </ListItem>\n              <Divider />\n            </div>\n          ))\n        ) : (\n          <Box\n            display=\"flex\"\n            justifyContent=\"center\"\n            alignItems=\"center\"\n            marginTop=\"50px\"\n          >\n            <Box textAlign=\"center\">\n              <img width=\"200\" src=\"/static/svg/no-device.svg\" />\n              <Typography style={{ marginTop: '16px' }}>\n                Không có thiết bị\n              </Typography>\n            </Box>\n          </Box>\n        )}\n      </List>\n\n      <AddDevice />\n    </div>\n  )\n\n  return (\n    <div className={classes.root}>\n      <Sidebar container={container} />\n\n      <main className={classes.content}>\n        <div className={classes.toolbar} />\n      </main>\n    </div>\n  )\n}\n\nexport default Index\n","import React from 'react'\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth'\nimport { useAuth, firebase } from '../components/use-auth'\n\nexport default function Login() {\n  const auth = useAuth()\n  const uiConfig = {\n    signInFlow: 'popup',\n    signInOptions: [\n      firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n      firebase.auth.PhoneAuthProvider.PROVIDER_ID\n    ],\n    callbacks: {\n      signInSuccessWithAuthResult: () => false\n    }\n  }\n  return (\n    <>\n      {!auth.isLoading ? (\n        auth.user ? (\n          <h1>abc</h1>\n        ) : (\n          <StyledFirebaseAuth\n            uiConfig={uiConfig}\n            firebaseAuth={firebase.auth()}\n          />\n        )\n      ) : (\n        <p>Loading........</p>\n      )}\n    </>\n  )\n}\n","import React from 'react'\nimport { useQuery } from '@apollo/react-hooks'\nimport { gql } from 'apollo-boost'\nimport { useAuth } from '../components/use-auth'\n\nexport default function ExchangeRates() {\n  const { loading, error, data } = useQuery(gql`\n    {\n      hello\n    }\n  `)\n\n  if (loading) return <p>Loading...</p>\n  if (error) return <p>{error.message}</p>\n  console.log(data)\n  return (\n    <>\n      <h1>ad</h1>\n    </>\n  )\n}\n","import React from 'react'\nimport Card from '@material-ui/core/Card'\nimport Typography from '@material-ui/core/Typography'\nimport CardContent from '@material-ui/core/CardContent'\nimport Grid from '@material-ui/core/Grid'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport Paper from '@material-ui/core/Paper'\nimport NativeSelect from '@material-ui/core/NativeSelect'\nimport Input from '@material-ui/core/Input'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\nimport Box from '@material-ui/core/Box'\nimport { format } from 'date-fns'\n\nimport { useQuery } from '@apollo/react-hooks'\nimport { HISTORY_DATA_BLOCKCHAIN_BY_ADDRESS } from '../shared/graphq'\nimport {\n  LineChart,\n  Line,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  Brush,\n  AreaChart,\n  Area\n} from 'recharts'\nimport ResponsiveContainer from 'recharts/lib/component/ResponsiveContainer'\n\nconst data1 = [\n  {\n    name: 'Page A',\n    uv: 4000,\n    pv: 2400,\n    amt: 2400\n  },\n  {\n    name: 'Page B',\n    uv: 3000,\n    pv: 1398,\n    amt: 2210\n  },\n  {\n    name: 'Page C',\n    uv: 2000,\n    pv: 9800,\n    amt: 2290\n  },\n  {\n    name: 'Page D',\n    uv: 2780,\n    pv: 3908,\n    amt: 2000\n  },\n  {\n    name: 'Page E',\n    uv: 1890,\n    pv: 4800,\n    amt: 2181\n  },\n  {\n    name: 'Page F',\n    uv: 2390,\n    pv: 3800,\n    amt: 2500\n  },\n  {\n    name: 'Page G',\n    uv: 3490,\n    pv: 4300,\n    amt: 2100\n  },\n  {\n    name: 'Page F',\n    uv: 2390,\n    pv: 3800,\n    amt: 2500\n  },\n  {\n    name: 'Page G',\n    uv: 3490,\n    pv: 4300,\n    amt: 2100\n  },\n  {\n    name: 'Page F',\n    uv: 2390,\n    pv: 3800,\n    amt: 2500\n  }\n]\nconst drawerWidth = 345\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex'\n  },\n  drawer: {\n    [theme.breakpoints.up('sm')]: {\n      width: drawerWidth,\n      flexShrink: 0\n    }\n  },\n  appBar: {\n    marginLeft: drawerWidth,\n    [theme.breakpoints.up('sm')]: {\n      width: `calc(100% - ${drawerWidth}px)`\n    }\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up('sm')]: {\n      display: 'none'\n    }\n  },\n  toolbar: {\n    ...theme.mixins.toolbar,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  drawerPaper: {\n    width: drawerWidth\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3)\n  },\n\n  extendedIcon: {\n    marginRight: theme.spacing(1)\n  },\n  paper: {\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2)\n  },\n  textCard: {\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    paddingBottom: theme.spacing(2)\n  },\n  box: {\n    paddingRight: theme.spacing(2)\n  },\n  item: {\n    // paddingLeft: theme.spacing(2),\n    // paddingRight: theme.spacing(2),\n    paddingBottom: theme.spacing(2)\n  },\n  textListDevice: {\n    paddingTop: theme.spacing(1),\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    paddingBottom: theme.spacing(1)\n  },\n  fab: {\n    position: 'absolute',\n    bottom: theme.spacing(2),\n    left: theme.spacing(2)\n  }\n}))\nexport default ({ deviceById }) => {\n  const classes = useStyles()\n  const theme = useTheme()\n\n  const [last, setLast] = React.useState(10)\n  const { loading, error, data } = useQuery(\n    HISTORY_DATA_BLOCKCHAIN_BY_ADDRESS,\n    {\n      variables: {\n        address: deviceById.address,\n        last: parseInt(last)\n      }\n      // pollInterval: 1000\n    }\n  )\n  if (loading) return <p>Loading...</p>\n  if (error) return <p>{error.message}</p>\n  const dataRes =\n    data && data.historyDataOnBlockchainByAddress\n      ? data.historyDataOnBlockchainByAddress\n      : []\n  if (!dataRes.length) return <p>No data</p>\n  console.log(dataRes)\n\n  return (\n    <>\n      <Grid item xs={12} sm={12}>\n        <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n          <Typography variant=\"button\">Dữ liệu lịch sử</Typography>\n          <div>\n            <NativeSelect\n              value={last}\n              onChange={e => setLast(e.target.value)}\n              input={<Input name=\"last\" id=\"age-native-label-placeholder\" />}\n            >\n              <option value={10}>10 dữ liệu gần nhất</option>\n              <option value={30}>30 dữ liệu gần nhất</option>\n              <option value={60}>60 dữ liệu gần nhất</option>\n            </NativeSelect>\n            <FormHelperText>Chọn để truy vấn lịch sử</FormHelperText>\n          </div>\n        </Box>\n      </Grid>\n      <Grid item xs={12} sm={12}>\n        <Paper className={classes.paper}>\n          <Box\n            display=\"flex\"\n            justifyContent=\"space-between\"\n            className={classes.box}\n          >\n            <Typography\n              variant=\"h6\"\n              component=\"h6\"\n              gutterBottom\n              className={classes.textCard}\n            >\n              Nhiệt độ\n            </Typography>\n          </Box>\n          <ResponsiveContainer width=\"99%\" height={289}>\n            <LineChart\n              data={dataRes}\n              syncId=\"anyId\"\n              fill={theme.palette.primary.main}\n              margin={{\n                top: 10,\n                right: 30,\n                left: 0,\n                bottom: 0\n              }}\n            >\n              <CartesianGrid vertical={false} />\n              <XAxis\n                dataKey=\"timestamp\"\n                tickFormatter={tickItem =>\n                  format(new Date(parseInt(tickItem)), 'HH:mm:ss')\n                }\n              />\n              <YAxis axisLine={false} />\n              <Tooltip\n                labelFormatter={name =>\n                  format(new Date(parseInt(name)), 'yyyy-MM-dd HH:mm:ss')\n                }\n              />\n              <Line\n                type=\"monotone\"\n                dataKey=\"temp\"\n                stroke=\"#8884d8\"\n                fill=\"#8884d8\"\n              />\n            </LineChart>\n          </ResponsiveContainer>\n        </Paper>\n      </Grid>\n\n      <Grid item xs={12} sm={12}>\n        <Paper className={classes.paper}>\n          <Box\n            display=\"flex\"\n            justifyContent=\"space-between\"\n            className={classes.box}\n          >\n            <Typography\n              variant=\"h6\"\n              component=\"h6\"\n              gutterBottom\n              className={classes.textCard}\n            >\n              Cảm biến pH\n            </Typography>\n          </Box>\n          <ResponsiveContainer width=\"99%\" height={289}>\n            <LineChart\n              data={dataRes}\n              syncId=\"anyId\"\n              fill={theme.palette.primary.main}\n              margin={{\n                top: 10,\n                right: 30,\n                left: 0,\n                bottom: 0\n              }}\n            >\n              <CartesianGrid vertical={false} />\n              <XAxis\n                dataKey=\"timestamp\"\n                tickFormatter={tickItem =>\n                  format(new Date(parseInt(tickItem)), 'HH:mm:ss')\n                }\n              />\n              <YAxis axisLine={false} />\n              <Tooltip\n                labelFormatter={name =>\n                  format(new Date(parseInt(name)), 'yyyy-MM-dd HH:mm:ss')\n                }\n              />\n              <Line\n                type=\"monotone\"\n                dataKey=\"ph\"\n                stroke=\"#8884d8\"\n                fill=\"#8884d8\"\n              />\n            </LineChart>\n          </ResponsiveContainer>\n        </Paper>\n      </Grid>\n\n      <Grid item xs={12} sm={12}>\n        <Paper className={classes.paper}>\n          <Box\n            display=\"flex\"\n            justifyContent=\"space-between\"\n            className={classes.box}\n          >\n            <Typography\n              variant=\"h6\"\n              component=\"h6\"\n              gutterBottom\n              className={classes.textCard}\n            >\n              Cảm biến Oxy hòa tan\n            </Typography>\n          </Box>\n          <ResponsiveContainer width=\"99%\" height={289}>\n            <LineChart\n              data={dataRes}\n              syncId=\"anyId\"\n              fill={theme.palette.primary.main}\n              margin={{\n                top: 10,\n                right: 30,\n                left: 0,\n                bottom: 0\n              }}\n            >\n              <CartesianGrid vertical={false} />\n              <XAxis\n                dataKey=\"timestamp\"\n                tickFormatter={tickItem =>\n                  format(new Date(parseInt(tickItem)), 'HH:mm:ss')\n                }\n              />\n              <YAxis axisLine={false} />\n              <Tooltip\n                labelFormatter={name =>\n                  format(new Date(parseInt(name)), 'yyyy-MM-dd HH:mm:ss')\n                }\n              />\n              <Line\n                type=\"monotone\"\n                dataKey=\"oxy\"\n                stroke=\"#8884d8\"\n                fill=\"#8884d8\"\n              />\n            </LineChart>\n          </ResponsiveContainer>\n        </Paper>\n      </Grid>\n\n      <Grid item xs={12} sm={12}>\n        <Paper className={classes.paper}>\n          <Box\n            display=\"flex\"\n            justifyContent=\"space-between\"\n            className={classes.box}\n          >\n            <Typography\n              variant=\"h6\"\n              component=\"h6\"\n              gutterBottom\n              className={classes.textCard}\n            >\n              Dung lượng Pin\n            </Typography>\n          </Box>\n          <ResponsiveContainer width=\"99%\" height={289}>\n            <LineChart\n              data={dataRes}\n              syncId=\"anyId\"\n              fill={theme.palette.primary.main}\n              margin={{\n                top: 10,\n                right: 30,\n                left: 0,\n                bottom: 0\n              }}\n            >\n              <CartesianGrid vertical={false} />\n              <XAxis\n                dataKey=\"timestamp\"\n                tickFormatter={tickItem =>\n                  format(new Date(parseInt(tickItem)), 'HH:mm:ss')\n                }\n              />\n              <YAxis axisLine={false} />\n              <Tooltip\n                labelFormatter={name =>\n                  format(new Date(parseInt(name)), 'yyyy-MM-dd HH:mm:ss')\n                }\n              />\n              <Line\n                type=\"monotone\"\n                dataKey=\"pin\"\n                stroke=\"#8884d8\"\n                fill=\"#8884d8\"\n              />\n            </LineChart>\n          </ResponsiveContainer>\n        </Paper>\n      </Grid>\n    </>\n  )\n}\n","import React from 'react'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport Grid from '@material-ui/core/Grid'\nimport { useQuery } from '@apollo/react-hooks'\nimport CardData from '../components/card-data'\nimport Sidebar from '../components/sidebar'\nimport ChartData from '../components/chart-data'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport Typography from '@material-ui/core/Typography'\nimport Box from '@material-ui/core/Box'\nimport AppBar from '@material-ui/core/AppBar'\nimport MenuIcon from '@material-ui/icons/Menu'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport IconButton from '@material-ui/core/IconButton'\n\nimport isEmpty from 'lodash/isEmpty'\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\nimport { DEVICE_BY_ID } from '../shared/graphq'\n\nconst drawerWidth = 340\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex'\n  },\n  drawer: {\n    [theme.breakpoints.up('sm')]: {\n      width: drawerWidth,\n      flexShrink: 0\n    }\n  },\n  appBar: {\n    marginLeft: drawerWidth,\n    [theme.breakpoints.up('sm')]: {\n      width: `calc(100% - ${drawerWidth}px)`\n    }\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up('sm')]: {\n      display: 'none'\n    }\n  },\n  toolbar: {\n    ...theme.mixins.toolbar,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  drawerPaper: {\n    width: drawerWidth\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3)\n  },\n\n  extendedIcon: {\n    marginRight: theme.spacing(1)\n  },\n  paper: {\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2)\n  },\n  textCard: {\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    paddingBottom: theme.spacing(2)\n  },\n  box: {\n    paddingRight: theme.spacing(2)\n  },\n  item: {\n    // paddingLeft: theme.spacing(2),\n    // paddingRight: theme.spacing(2),\n    paddingBottom: theme.spacing(2)\n  },\n  textListDevice: {\n    paddingTop: theme.spacing(1),\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    paddingBottom: theme.spacing(1)\n  },\n  fab: {\n    position: 'absolute',\n    bottom: theme.spacing(2),\n    left: theme.spacing(2)\n  }\n}))\n\nfunction Device(props) {\n  const { container } = props\n  const classes = useStyles()\n  const theme = useTheme()\n  const [mobileOpen, setMobileOpen] = React.useState(false)\n\n  function handleDrawerToggle() {\n    setMobileOpen(!mobileOpen)\n  }\n\n  const { loading, error, data } = useQuery(DEVICE_BY_ID, {\n    variables: {\n      deviceId: props.id\n    }\n  })\n  if (loading) return <p>Loading...</p>\n  if (error) return <p>{error.message}</p>\n\n  const deviceById = data ? data.deviceById : null\n  if (!deviceById) return <p>No device exist</p>\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <AppBar position=\"fixed\" className={classes.appBar}>\n        <Toolbar>\n          <IconButton\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            edge=\"start\"\n            onClick={handleDrawerToggle}\n            className={classes.menuButton}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography variant=\"h6\" noWrap>\n            {deviceById.name}\n          </Typography>\n        </Toolbar>\n      </AppBar>\n\n      <Sidebar\n        idSelect={deviceById.id}\n        container={container}\n        handleDrawerToggle={handleDrawerToggle}\n        mobileOpen={mobileOpen}\n      />\n\n      <main className={classes.content}>\n        <div className={classes.toolbar} />\n        <Grid container spacing={3}>\n          <CardData deviceById={deviceById} />\n          <ChartData deviceById={deviceById} />\n        </Grid>\n      </main>\n    </div>\n  )\n}\n\nexport default Device\n","import React from 'react'\nimport { ApolloProvider } from '@apollo/react-hooks'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport { ThemeProvider } from '@material-ui/styles'\nimport { Router } from '@reach/router'\nimport { ApolloClient } from 'apollo-client'\nimport { createHttpLink } from 'apollo-link-http'\nimport { setContext } from 'apollo-link-context'\nimport { InMemoryCache } from 'apollo-cache-inmemory'\n\nimport theme from './theme'\nimport { ProvideAuth } from './components/use-auth'\nimport Index from './pages/index'\nimport Login from './pages/login'\nimport G from './pages/g'\nimport Device from './pages/device'\n\nconst httpLink = createHttpLink({\n  uri: '/graphql'\n})\n\nconst authLink = setContext((_, { headers }) => {\n  // get the authentication token from local storage if it exists\n  const token = localStorage.getItem('token')\n  // return the headers to the context so httpLink can read them\n  return {\n    headers: {\n      ...headers,\n      authorization: token ? `Bearer ${token}` : ''\n    }\n  }\n})\n\nconst client = new ApolloClient({\n  link: authLink.concat(httpLink),\n  cache: new InMemoryCache()\n})\n\nconst App = () => (\n  <ThemeProvider theme={theme}>\n    <CssBaseline />\n    <ProvideAuth>\n      <ApolloProvider client={client}>\n        <Router>\n          <Index path=\"/\" />\n          <Login path=\"/login\" />\n          <G path=\"/g\" />\n          <Device path=\"/:id\" />\n        </Router>\n      </ApolloProvider>\n    </ProvideAuth>\n  </ThemeProvider>\n)\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}