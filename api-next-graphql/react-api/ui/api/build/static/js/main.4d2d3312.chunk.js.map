{"version":3,"sources":["theme.js","components/use-auth.js","shared/graphq.js","components/add-device.js","components/list-data.js","components/sidebar.js","pages/index.js","pages/login.js","pages/g.js","components/card-data.js","components/chart-data.js","pages/device.js","App.js","serviceWorker.js","index.js"],"names":["theme","createMuiTheme","palette","primary","main","secondary","error","red","A400","background","default","firebase","length","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","authContext","createContext","ProvideAuth","children","auth","useState","user","setUser","isLoading","setLoading","useEffect","unsubscribe","onAuthStateChanged","a","localStorage","currentUser","getIdToken","setItem","signout","signOut","then","removeItem","useProvideAuth","Provider","value","useAuth","useContext","MY_DEVICES","gql","ADD_DEVICE","STATE_BY_ADDRESS","DEVICE_BY_ID","HISTORY_DATA_BLOCKCHAIN_BY_ADDRESS","useStyles","makeStyles","fab","position","bottom","spacing","left","action","marginRight","marginBottom","classes","React","open","setOpen","useMutation","refetchQueries","addDevice","handleClose","Tooltip","title","aria-label","Fab","className","color","onClick","initialValues","name","description","validate","values","errors","onSubmit","setSubmitting","variables","handleChange","handleBlur","handleSubmit","isSubmitting","Dialog","maxWidth","fullWidth","onClose","aria-labelledby","DialogTitle","id","DialogContent","DialogContentText","TextField","label","placeholder","margin","variant","onChange","onBlur","DialogActions","Button","type","disabled","size","root","display","drawer","breakpoints","up","width","flexShrink","appBar","marginLeft","menuButton","toolbar","mixins","justifyContent","alignItems","drawerPaper","content","flexGrow","padding","extendedIcon","paper","paddingTop","paddingBottom","textCard","paddingLeft","paddingRight","box","item","textListDevice","idSelect","useQuery","loading","data","message","List","style","devices","map","to","key","textDecoration","fontSize","ListItem","button","Box","Typography","marginTop","ListItemText","created_at","Divider","textAlign","src","alt","container","handleDrawerToggle","mobileOpen","useTheme","Hidden","smUp","implementation","Drawer","anchor","direction","ModalProps","keepMounted","xsDown","Index","props","setMobileOpen","CssBaseline","Login","uiConfig","signInFlow","signInOptions","GoogleAuthProvider","PROVIDER_ID","PhoneAuthProvider","callbacks","signInSuccessWithAuthResult","firebaseAuth","ExchangeRates","console","log","deviceById","address","pollInterval","dataRes","stateByAddress","JSON","parse","Grid","xs","sm","Card","CardContent","gutterBottom","component","temp","formatDistanceToNow","Date","timestamp","locale","vi","ph","oxy","pin","last","setLast","parseInt","historyDataOnBlockchainByAddress","NativeSelect","e","target","input","Input","FormHelperText","Paper","height","syncId","fill","top","right","vertical","dataKey","tickFormatter","tickItem","format","axisLine","labelFormatter","stroke","Device","anchorEl","setAnchorEl","Boolean","undefined","deviceId","snippet","deviceSendData","AppBar","Toolbar","IconButton","edge","aria-describedby","event","prev","currentTarget","Popper","zIndex","typography","httpLink","createHttpLink","uri","authLink","setContext","_","headers","token","getItem","authorization","client","ApolloClient","link","concat","cache","InMemoryCache","App","ThemeProvider","path","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"8QAqBeA,EAjBDC,YAAe,CAC3BC,QAAS,CACPC,QAAS,CACPC,KAAM,WAERC,UAAW,CACTD,KAAM,WAERE,MAAO,CACLF,KAAMG,IAAIC,MAEZC,WAAY,CACVC,QAAS,c,kDCHdC,OAAcC,OAA0CD,QAAjCA,gBATT,CACbE,OAAQ,0CACRC,WAAY,8BACZC,YAAa,qCACbC,UAAW,cACXC,cAAe,GACfC,kBAAmB,eACnBC,MAAO,wCAIT,IAAMC,EAAcC,0BAEb,SAASC,EAAT,GAAoC,IAAbC,EAAY,EAAZA,SACtBC,EAUR,WAA2B,IAAD,EACAC,mBAAS,MADT,mBACjBC,EADiB,KACXC,EADW,OAEQF,oBAAS,GAFjB,mBAEjBG,EAFiB,KAENC,EAFM,KAiCxB,OApBAC,oBAAU,WACR,IAAMC,EAAcpB,SAAgBqB,mBAAhB,sCAAmC,WAAMN,GAAN,SAAAO,EAAA,yDACjDP,EADiD,wBAEnDC,EAAQD,GAF2C,KAGnDQ,aAHmD,SAK3CvB,SAAgBwB,YAAYC,YAAW,GALI,wBAGtCC,QAHsC,UAIjD,QAJiD,MAOnDR,GAAW,GAPwC,wBASnDF,GAAQ,GACRE,GAAW,GAVwC,0CAAnC,uDAepB,OAAO,kBAAME,MACZ,IAGI,CACLL,OACAE,YACAU,QAjCc,WACd,OAAO3B,SAEJ4B,UACAC,KAAK,WACJb,GAAQ,GACRO,aAAaO,WAAW,aAnBjBC,GACb,OAAO,kBAACtB,EAAYuB,SAAb,CAAsBC,MAAOpB,GAAOD,GAGtC,IAAMsB,EAAU,WACrB,OAAOC,qBAAW1B,I,u4CCrBb,IAAM2B,GAAaC,IAAH,KAYVC,GAAaD,IAAH,KAYVE,GAAmBF,IAAH,KAQhBG,GAAeH,IAAH,KAaZI,GAAqCJ,IAAH,K,ujBC9B/C,IAAMK,GAAYC,YAAW,SAAAtD,GAAK,MAAK,CACrCuD,IAAK,CACHC,SAAU,QACVC,OAAQzD,EAAM0D,QAAQ,GACtBC,KAAM3D,EAAM0D,QAAQ,IAEtBE,OAAQ,CACNC,YAAa7D,EAAM0D,QAAQ,GAC3BI,aAAc9D,EAAM0D,QAAQ,OAIjB,cACb,IAAMK,EAAUV,KADG,EAEKW,IAAMvC,UAAS,GAFpB,mBAEZwC,EAFY,KAENC,EAFM,OAICC,YAAYlB,GAAY,CAC1CmB,eAAgB,CAAC,eADZC,EAJY,oBAYnB,SAASC,IACPJ,GAAQ,GAGV,OACE,oCACE,kBAACK,EAAA,EAAD,CAASC,MAAM,iBAAiBC,aAAW,OACzC,kBAACC,EAAA,EAAD,CACED,aAAW,WACXE,UAAWZ,EAAQR,IACnBqB,MAAM,UACNC,QAfR,WACEX,GAAQ,KAgBF,kBAAC,IAAD,QAGJ,kBAAC,IAAD,CACEY,cAAe,CAAEC,KAAM,GAAIC,YAAa,IACxCC,SAAU,SAAAC,GACR,IAAIC,EAAS,GAIb,OAHKD,EAAOH,OACVI,EAAOJ,KAAO,YAETI,GAETC,SAAU,SAACF,EAAD,GAAgC,IAArBG,EAAoB,EAApBA,cACnBA,GAAc,GACdhB,EAAU,CAAEiB,UAAU,GAAD,GAAOJ,KAC5BG,GAAc,GACdf,MAGD,gBACCY,EADD,EACCA,OACAC,EAFD,EAECA,OACAI,EAHD,EAGCA,aACAC,EAJD,EAICA,WACAC,EALD,EAKCA,aACAC,EAND,EAMCA,aAND,OAQC,kBAAC,IAAD,KACE,kBAACC,EAAA,EAAD,CACEC,SAAS,KACTC,WAAW,EACX5B,KAAMA,EACN6B,QAASxB,EACTyB,kBAAgB,qBAEhB,kBAACC,EAAA,EAAD,CAAaC,GAAG,qBAAhB,cACA,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,8CAIA,kBAACC,EAAA,EAAD,CACEH,GAAG,YACHI,MAAM,OACNR,WAAW,EACXS,YAAY,mBACZC,OAAO,SACPC,QAAQ,WACRzB,KAAK,OACLzE,QAAO6E,EAAOJ,KACd0B,SAAUlB,EACVmB,OAAQlB,EACR5C,MAAOsC,EAAOH,OAGhB,kBAACqB,EAAA,EAAD,CACEH,GAAG,mBACHI,MAAM,cACNC,YAAY,0BACZT,WAAW,EACXU,OAAO,SACPC,QAAQ,WACRzB,KAAK,cACL0B,SAAUlB,EACVmB,OAAQlB,EACR5C,MAAOsC,EAAOF,eAGlB,kBAAC2B,EAAA,EAAD,CAAehC,UAAWZ,EAAQH,QAChC,kBAACgD,EAAA,EAAD,CACEC,KAAK,SACLC,SAAUpB,EACVd,MAAM,UACN4B,QAAQ,YACRO,KAAK,QACLlC,QAASY,GANX,qB,+lBC5GhB,IAEMpC,GAAYC,YAAW,SAAAtD,GAAK,MAAK,CACrCgH,KAAM,CACJC,QAAS,QAEXC,OAAO,eACJlH,EAAMmH,YAAYC,GAAG,MAAQ,CAC5BC,MARc,IASdC,WAAY,IAGhBC,OAAO,aACLC,WAbgB,KAcfxH,EAAMmH,YAAYC,GAAG,MAAQ,CAC5BC,MAAM,eAAD,OAfS,IAeT,SAGTI,WAAW,aACT5D,YAAa7D,EAAM0D,QAAQ,IAC1B1D,EAAMmH,YAAYC,GAAG,MAAQ,CAC5BH,QAAS,SAGbS,QAAQ,MACH1H,EAAM2H,OAAOD,QADX,CAELT,QAAS,OACTW,eAAgB,SAChBC,WAAY,WAEdC,YAAa,CACXT,MA/BgB,KAiClBU,QAAS,CACPC,SAAU,EACVC,QAASjI,EAAM0D,QAAQ,IAGzBwE,aAAc,CACZrE,YAAa7D,EAAM0D,QAAQ,IAE7ByE,MAAO,CACLC,WAAYpI,EAAM0D,QAAQ,GAC1B2E,cAAerI,EAAM0D,QAAQ,IAE/B4E,SAAU,CACRC,YAAavI,EAAM0D,QAAQ,GAC3B8E,aAAcxI,EAAM0D,QAAQ,GAC5B2E,cAAerI,EAAM0D,QAAQ,IAE/B+E,IAAK,CACHD,aAAcxI,EAAM0D,QAAQ,IAE9BgF,KAAM,CACJL,cAAerI,EAAM0D,QAAQ,IAE/BiF,eAAgB,CACdP,WAAYpI,EAAM0D,QAAQ,GAC1B6E,YAAavI,EAAM0D,QAAQ,GAC3B8E,aAAcxI,EAAM0D,QAAQ,GAC5B2E,cAAerI,EAAM0D,QAAQ,IAE/BH,IAAK,CACHC,SAAU,WACVC,OAAQzD,EAAM0D,QAAQ,GACtBC,KAAM3D,EAAM0D,QAAQ,OAIT,eAAmB,IAAhBkF,EAAe,EAAfA,SACV7E,EAAUV,KADe,EAGEwF,YAAS9F,IAAlC+F,EAHuB,EAGvBA,QAASxI,EAHc,EAGdA,MAAOyI,EAHO,EAGPA,KACxB,OAAID,EAAgB,yCAChBxI,EAAc,2BAAIA,EAAM0I,SAG1B,kBAACC,GAAA,EAAD,CAAMC,MAAO,CAAEd,WAAY,IACxBW,GAAQA,EAAKI,SAAWJ,EAAKI,QAAQvI,OACpCmI,EAAKI,QAAQC,IAAI,SAAAV,GAAI,OACnB,kBAAC,IAAD,CACEW,GAAE,WAAMX,EAAKzC,IACbqD,IAAKZ,EAAKzC,GACViD,MAAO,CACLK,eAAgB,UAChB3E,MAAO,UACP4E,SAAU,YAGZ,kBAACC,GAAA,EAAD,CACEC,QAAQ,EACRR,MAAOR,EAAKzC,KAAO2C,EAAW,CAAEnI,WAAY,WAAc,MAE1D,kBAACkJ,GAAA,EAAD,CAAKhF,UAAWZ,EAAQ2E,MACtB,kBAACkB,EAAA,EAAD,CAAYpD,QAAQ,QAAQ0C,MAAO,CAAEW,UAAW,QAC7CnB,EAAK3D,MAER,kBAAC+E,GAAA,EAAD,CAAczJ,UAAWqI,EAAKqB,aAC9B,kBAACH,EAAA,EAAD,CAAYpD,QAAQ,SAASkC,EAAK1D,eAGtC,kBAACgF,EAAA,EAAD,SAIJ,kBAACL,GAAA,EAAD,CACE1C,QAAQ,OACRW,eAAe,SACfC,WAAW,SACXgC,UAAU,QAEV,kBAACF,GAAA,EAAD,CAAKM,UAAU,UACb,yBAAK5C,MAAM,MAAM6C,IAAI,4BAA4BC,IAAI,cACrD,kBAACP,EAAA,EAAD,CAAYV,MAAO,CAAEW,UAAW,SAAhC,yC,ujBCrHZ,IAEMxG,GAAYC,YAAW,SAAAtD,GAAK,MAAK,CACrCgH,KAAM,CACJC,QAAS,QAEXC,OAAO,eACJlH,EAAMmH,YAAYC,GAAG,MAAQ,CAC5BC,MARc,IASdC,WAAY,IAGhBC,OAAO,aACLC,WAbgB,KAcfxH,EAAMmH,YAAYC,GAAG,MAAQ,CAC5BC,MAAM,eAAD,OAfS,IAeT,SAGTI,WAAW,aACT5D,YAAa7D,EAAM0D,QAAQ,IAC1B1D,EAAMmH,YAAYC,GAAG,MAAQ,CAC5BH,QAAS,SAGbS,QAAQ,MACH1H,EAAM2H,OAAOD,QADX,CAELT,QAAS,OACTW,eAAgB,SAChBC,WAAY,WAEdC,YAAa,CACXT,MA/BgB,KAiClBU,QAAS,CACPC,SAAU,EACVC,QAASjI,EAAM0D,QAAQ,IAGzBwE,aAAc,CACZrE,YAAa7D,EAAM0D,QAAQ,IAE7ByE,MAAO,CACLC,WAAYpI,EAAM0D,QAAQ,GAC1B2E,cAAerI,EAAM0D,QAAQ,IAE/B4E,SAAU,CACRC,YAAavI,EAAM0D,QAAQ,GAC3B8E,aAAcxI,EAAM0D,QAAQ,GAC5B2E,cAAerI,EAAM0D,QAAQ,IAE/B+E,IAAK,CACHD,aAAcxI,EAAM0D,QAAQ,IAE9BgF,KAAM,CAGJL,cAAerI,EAAM0D,QAAQ,IAE/BiF,eAAgB,CACdP,WAAYpI,EAAM0D,QAAQ,GAC1B6E,YAAavI,EAAM0D,QAAQ,GAC3B8E,aAAcxI,EAAM0D,QAAQ,GAC5B2E,cAAerI,EAAM0D,QAAQ,IAE/BH,IAAK,CACHC,SAAU,WACVC,OAAQzD,EAAM0D,QAAQ,GACtBC,KAAM3D,EAAM0D,QAAQ,OAIT,eAA8D,IAA3D0G,EAA0D,EAA1DA,UAAWC,EAA+C,EAA/CA,mBAAoBC,EAA2B,EAA3BA,WAAY1B,EAAe,EAAfA,SACrD7E,EAAUV,KACVrD,EAAQuK,cAERrD,EACJ,6BACE,yBAAKvC,UAAWZ,EAAQ2D,SACtB,yBAAKL,MAAM,KAAK6C,IAAI,mBAAmBC,IAAI,UAE7C,kBAACH,EAAA,EAAD,MACA,kBAACJ,EAAA,EAAD,CACEpD,QAAQ,SACRS,QAAQ,QACRtC,UAAWZ,EAAQ4E,gBAHrB,mCAOA,kBAACqB,EAAA,EAAD,MACA,kBAACA,EAAA,EAAD,MAEA,kBAAC,GAAD,CAAapB,SAAUA,IACvB,kBAAC,GAAD,OAIJ,OACE,yBAAKjE,UAAWZ,EAAQmD,OAAQzC,aAAW,mBACzC,kBAAC+F,EAAA,EAAD,CAAQC,MAAI,EAACC,eAAe,OAC1B,kBAACC,EAAA,EAAD,CACEP,UAAWA,EACX5D,QAAQ,YACRoE,OAA4B,QAApB5K,EAAM6K,UAAsB,QAAU,OAC9C5G,KAAMqG,EACNxE,QAASuE,EACTtG,QAAS,CACPoE,MAAOpE,EAAQ+D,aAEjBgD,WAAY,CACVC,aAAa,IAGd7D,IAGL,kBAACsD,EAAA,EAAD,CAAQQ,QAAM,EAACN,eAAe,OAC5B,kBAACC,EAAA,EAAD,CACE5G,QAAS,CACPoE,MAAOpE,EAAQ+D,aAEjBtB,QAAQ,YACRvC,MAAI,GAEHiD,M,ujBCjIX,IAEM7D,GAAYC,YAAW,SAAAtD,GAAK,MAAK,CACrCgH,KAAM,CACJC,QAAS,QAEXC,OAAO,eACJlH,EAAMmH,YAAYC,GAAG,MAAQ,CAC5BC,MARc,IASdC,WAAY,IAGhBC,OAAO,aACLC,WAbgB,KAcfxH,EAAMmH,YAAYC,GAAG,MAAQ,CAC5BC,MAAM,eAAD,OAfS,IAeT,SAGTI,WAAW,aACT5D,YAAa7D,EAAM0D,QAAQ,IAC1B1D,EAAMmH,YAAYC,GAAG,MAAQ,CAC5BH,QAAS,SAGbS,QAAQ,MACH1H,EAAM2H,OAAOD,QADX,CAELT,QAAS,OACTW,eAAgB,SAChBC,WAAY,WAEdC,YAAa,CACXT,MA/BgB,KAiClBU,QAAS,CACPC,SAAU,EACVC,QAASjI,EAAM0D,QAAQ,IAGzBwE,aAAc,CACZrE,YAAa7D,EAAM0D,QAAQ,IAE7ByE,MAAO,CACLC,WAAYpI,EAAM0D,QAAQ,GAC1B2E,cAAerI,EAAM0D,QAAQ,IAE/B4E,SAAU,CACRC,YAAavI,EAAM0D,QAAQ,GAC3B8E,aAAcxI,EAAM0D,QAAQ,GAC5B2E,cAAerI,EAAM0D,QAAQ,IAE/B+E,IAAK,CACHD,aAAcxI,EAAM0D,QAAQ,IAE9BgF,KAAM,CACJL,cAAerI,EAAM0D,QAAQ,IAE/BiF,eAAgB,CACdP,WAAYpI,EAAM0D,QAAQ,GAC1B6E,YAAavI,EAAM0D,QAAQ,GAC3B8E,aAAcxI,EAAM0D,QAAQ,GAC5B2E,cAAerI,EAAM0D,QAAQ,IAE/BH,IAAK,CACHC,SAAU,WACVC,OAAQzD,EAAM0D,QAAQ,GACtBC,KAAM3D,EAAM0D,QAAQ,OAiCTuH,OA7Bf,SAAeC,GAAQ,IACbd,EAAcc,EAAdd,UACFrG,EAAUV,KAFI,EAGgBW,IAAMvC,UAAS,GAH/B,mBAGb6I,EAHa,KAGDa,EAHC,KASpB,OACE,yBAAKxG,UAAWZ,EAAQiD,MACtB,kBAACoE,EAAA,EAAD,MACA,kBAAC,GAAD,CACEhB,UAAWA,EACXC,mBATN,WACEc,GAAeb,IASXA,WAAYA,IAGd,0BAAM3F,UAAWZ,EAAQgE,SACvB,yBAAKpD,UAAWZ,EAAQ2D,a,qBCzFjB,SAAS2D,KACtB,IAAM7J,EAAOqB,IACPyI,EAAW,CACfC,WAAY,QACZC,cAAe,CACb7K,EAASa,KAAKiK,mBAAmBC,YACjC/K,EAASa,KAAKmK,kBAAkBD,aAElCE,UAAW,CACTC,4BAA6B,kBAAM,KAGvC,OACE,oCACIrK,EAAKI,UAUL,8CATAJ,EAAKE,KACH,mCAEA,kBAAC,KAAD,CACE4J,SAAUA,EACVQ,aAAcnL,EAASa,U,oHCpBpB,SAASuK,KAAiB,IAAD,EACLlD,YAAS7F,aAAA,OAAlC8F,EAD8B,EAC9BA,QAASxI,EADqB,EACrBA,MAAOyI,EADc,EACdA,KAMxB,OAAID,EAAgB,yCAChBxI,EAAc,2BAAIA,EAAM0I,UAC5BgD,QAAQC,IAAIlD,GAEV,oCACE,oC,sDCLS,eAAqB,IAAlBmD,EAAiB,EAAjBA,WAAiB,EACArD,YAAS3F,GAAkB,CAC1DoC,UAAW,CACT6G,QAASD,EAAWC,SAEtBC,aAAc,MAJRtD,EADyB,EACzBA,QAASxI,EADgB,EAChBA,MAAOyI,EADS,EACTA,KAMxB,GAAID,EAAS,OAAO,yCACpB,GAAIxI,EAAO,OAAO,2BAAIA,EAAM0I,SAC5B,IAAMqD,EACJtD,GAAQA,EAAKuD,eAAiBC,KAAKC,MAAMzD,EAAKuD,eAAevD,MAAQ,KACvE,OAAKsD,EAGH,oCACE,kBAACI,GAAA,EAAD,CAAM/D,MAAI,EAACgE,GAAI,EAAGC,GAAI,GACpB,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,KACE,kBAACjD,EAAA,EAAD,CAAYkD,cAAY,GAAxB,8CACA,kBAAClD,EAAA,EAAD,CAAYpD,QAAQ,KAAKuG,UAAU,MACjC,yBAAK1F,MAAM,KAAK8C,IAAI,OAAOD,IAAI,2BAA4B,IAC1DmC,EAAQW,KAAM,IACf,kBAACpD,EAAA,EAAD,CAAYpD,QAAQ,SAASuG,UAAU,QAAvC,UAIF,kBAACnD,EAAA,EAAD,CACEpD,QAAQ,QACR5B,MAAM,gBACNsE,MAAO,CAAEW,UAAW,SAHtB,qBAKW,IACRoD,aAAoB,IAAIC,KAAKb,EAAQc,WAAY,CAAEC,OAAQC,OAAO,IANrE,sBAaN,kBAACZ,GAAA,EAAD,CAAM/D,MAAI,EAACgE,GAAI,EAAGC,GAAI,GACpB,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,KACE,kBAACjD,EAAA,EAAD,CAAYkD,cAAY,GAAxB,yBACA,kBAAClD,EAAA,EAAD,CAAYpD,QAAQ,KAAKuG,UAAU,MACjC,yBAAK1F,MAAM,KAAK8C,IAAI,OAAOD,IAAI,+BAAgC,IAC9DmC,EAAQiB,IAEX,kBAAC1D,EAAA,EAAD,CACEpD,QAAQ,QACR5B,MAAM,gBACNsE,MAAO,CAAEW,UAAW,SAHtB,qBAKW,IACRoD,aAAoB,IAAIC,KAAKb,EAAQc,WAAY,CAAEC,OAAQC,OAAO,IANrE,sBAaN,kBAACZ,GAAA,EAAD,CAAM/D,MAAI,EAACgE,GAAI,EAAGC,GAAI,GACpB,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,KACE,kBAACjD,EAAA,EAAD,CAAYkD,cAAY,GAAxB,qCACA,kBAAClD,EAAA,EAAD,CAAYpD,QAAQ,KAAKuG,UAAU,MACjC,yBAAK1F,MAAM,KAAK8C,IAAI,OAAOD,IAAI,6BAA8B,IAC5DmC,EAAQkB,IAAK,IACd,kBAAC3D,EAAA,EAAD,CAAYpD,QAAQ,SAASuG,UAAU,QAAvC,QAIF,kBAACnD,EAAA,EAAD,CACEpD,QAAQ,QACR5B,MAAM,gBACNsE,MAAO,CAAEW,UAAW,SAHtB,qBAKW,IACRoD,aAAoB,IAAIC,KAAKb,EAAQc,WAAY,CAAEC,OAAQC,OAAO,IANrE,sBAaN,kBAACZ,GAAA,EAAD,CAAM/D,MAAI,EAACgE,GAAI,EAAGC,GAAI,GACpB,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,KACE,kBAACjD,EAAA,EAAD,CAAYkD,cAAY,GAAxB,4BACA,kBAAClD,EAAA,EAAD,CAAYpD,QAAQ,KAAKuG,UAAU,MACjC,yBAAK1F,MAAM,KAAK8C,IAAI,OAAOD,IAAI,8BAA+B,IAC7DmC,EAAQmB,IAAK,IACd,kBAAC5D,EAAA,EAAD,CAAYpD,QAAQ,SAASuG,UAAU,QAAvC,MAIF,kBAACnD,EAAA,EAAD,CACEpD,QAAQ,QACR5B,MAAM,gBACNsE,MAAO,CAAEW,UAAW,SAHtB,qBAKW,IACRoD,aAAoB,IAAIC,KAAKb,EAAQc,WAAY,CAAEC,OAAQC,OAAO,IANrE,uBApFW,uC,uoBCNvB,IAEMhK,GAAYC,YAAW,SAAAtD,GAAK,MAAK,CACrCgH,KAAM,CACJC,QAAS,QAEXC,OAAO,eACJlH,EAAMmH,YAAYC,GAAG,MAAQ,CAC5BC,MARc,IASdC,WAAY,IAGhBC,OAAO,aACLC,WAbgB,KAcfxH,EAAMmH,YAAYC,GAAG,MAAQ,CAC5BC,MAAM,eAAD,OAfS,IAeT,SAGTI,WAAW,aACT5D,YAAa7D,EAAM0D,QAAQ,IAC1B1D,EAAMmH,YAAYC,GAAG,MAAQ,CAC5BH,QAAS,SAGbS,QAAQ,MACH1H,EAAM2H,OAAOD,QADX,CAELT,QAAS,OACTW,eAAgB,SAChBC,WAAY,WAEdC,YAAa,CACXT,MA/BgB,KAiClBU,QAAS,CACPC,SAAU,EACVC,QAASjI,EAAM0D,QAAQ,IAGzBwE,aAAc,CACZrE,YAAa7D,EAAM0D,QAAQ,IAE7ByE,MAAO,CACLC,WAAYpI,EAAM0D,QAAQ,GAC1B2E,cAAerI,EAAM0D,QAAQ,IAE/B4E,SAAU,CACRC,YAAavI,EAAM0D,QAAQ,GAC3B8E,aAAcxI,EAAM0D,QAAQ,GAC5B2E,cAAerI,EAAM0D,QAAQ,IAE/B+E,IAAK,CACHD,aAAcxI,EAAM0D,QAAQ,IAE9BgF,KAAM,CAGJL,cAAerI,EAAM0D,QAAQ,IAE/BiF,eAAgB,CACdP,WAAYpI,EAAM0D,QAAQ,GAC1B6E,YAAavI,EAAM0D,QAAQ,GAC3B8E,aAAcxI,EAAM0D,QAAQ,GAC5B2E,cAAerI,EAAM0D,QAAQ,IAE/BH,IAAK,CACHC,SAAU,WACVC,OAAQzD,EAAM0D,QAAQ,GACtBC,KAAM3D,EAAM0D,QAAQ,OAGT,eAAqB,IAAlBwI,EAAiB,EAAjBA,WACVnI,EAAUV,KACVrD,EAAQuK,cAFmB,EAITvG,IAAMvC,SAAS,IAJN,mBAI1BgM,EAJ0B,KAIpBC,EAJoB,OAKA7E,YAC/BzF,GACA,CACEkC,UAAW,CACT6G,QAASD,EAAWC,QACpBsB,KAAME,SAASF,IAEjBrB,aAAc,MAPVtD,EALyB,EAKzBA,QAASxI,EALgB,EAKhBA,MAAOyI,EALS,EAKTA,KAUxB,GAAID,EAAS,OAAO,yCACpB,GAAIxI,EAAO,OAAO,2BAAIA,EAAM0I,SAC5B,IAAMqD,EACJtD,GAAQA,EAAK6E,iCACT7E,EAAK6E,iCACL,GACN,OAAKvB,EAAQzL,OAGX,oCACE,kBAAC6L,GAAA,EAAD,CAAM/D,MAAI,EAACgE,GAAI,GAAIC,GAAI,IACrB,kBAAChD,GAAA,EAAD,CAAK1C,QAAQ,OAAOW,eAAe,gBAAgBC,WAAW,UAC5D,kBAAC+B,EAAA,EAAD,CAAYpD,QAAQ,UAApB,uCACA,6BACE,kBAACqH,GAAA,EAAD,CACEjL,MAAO6K,EACPhH,SAAU,SAAAqH,GAAC,OAAIJ,EAAQI,EAAEC,OAAOnL,QAChCoL,MAAO,kBAACC,GAAA,EAAD,CAAOlJ,KAAK,OAAOkB,GAAG,kCAE7B,4BAAQrD,MAAO,IAAf,2CACA,4BAAQA,MAAO,IAAf,2CACA,4BAAQA,MAAO,IAAf,4CAEF,kBAACsL,GAAA,EAAD,kEAIN,kBAACzB,GAAA,EAAD,CAAM/D,MAAI,EAACgE,GAAI,GAAIC,GAAI,IACrB,kBAACwB,GAAA,EAAD,CAAOxJ,UAAWZ,EAAQoE,OACxB,kBAACwB,GAAA,EAAD,CACE1C,QAAQ,OACRW,eAAe,gBACfjD,UAAWZ,EAAQ0E,KAEnB,kBAACmB,EAAA,EAAD,CACEpD,QAAQ,KACRuG,UAAU,KACVD,cAAY,EACZnI,UAAWZ,EAAQuE,UAJrB,4BASF,kBAAC,KAAD,CAAqBjB,MAAM,MAAM+G,OAAQ,KACvC,kBAAC,KAAD,CACErF,KAAMsD,EACNgC,OAAO,QACPC,KAAMtO,EAAME,QAAQC,QAAQC,KAC5BmG,OAAQ,CACNgI,IAAK,GACLC,MAAO,GACP7K,KAAM,EACNF,OAAQ,IAGV,kBAAC,KAAD,CAAegL,UAAU,IACzB,kBAAC,KAAD,CACEC,QAAQ,YACRC,cAAe,SAAAC,GAAQ,OACrBC,aAAO,IAAI3B,KAAKS,SAASiB,IAAY,eAGzC,kBAAC,KAAD,CAAOE,UAAU,IACjB,kBAAC,KAAD,CACEC,eAAgB,SAAAhK,GAAI,OAClB8J,aAAO,IAAI3B,KAAKS,SAAS5I,IAAQ,0BAGrC,kBAAC,KAAD,CACE8B,KAAK,WACL6H,QAAQ,OACRM,OAAO,UACPV,KAAK,gBAOf,kBAAC7B,GAAA,EAAD,CAAM/D,MAAI,EAACgE,GAAI,GAAIC,GAAI,IACrB,kBAACwB,GAAA,EAAD,CAAOxJ,UAAWZ,EAAQoE,OACxB,kBAACwB,GAAA,EAAD,CACE1C,QAAQ,OACRW,eAAe,gBACfjD,UAAWZ,EAAQ0E,KAEnB,kBAACmB,EAAA,EAAD,CACEpD,QAAQ,KACRuG,UAAU,KACVD,cAAY,EACZnI,UAAWZ,EAAQuE,UAJrB,0BASF,kBAAC,KAAD,CAAqBjB,MAAM,MAAM+G,OAAQ,KACvC,kBAAC,KAAD,CACErF,KAAMsD,EACNgC,OAAO,QACPC,KAAMtO,EAAME,QAAQC,QAAQC,KAC5BmG,OAAQ,CACNgI,IAAK,GACLC,MAAO,GACP7K,KAAM,EACNF,OAAQ,IAGV,kBAAC,KAAD,CAAegL,UAAU,IACzB,kBAAC,KAAD,CACEC,QAAQ,YACRC,cAAe,SAAAC,GAAQ,OACrBC,aAAO,IAAI3B,KAAKS,SAASiB,IAAY,eAGzC,kBAAC,KAAD,CAAOE,UAAU,IACjB,kBAAC,KAAD,CACEC,eAAgB,SAAAhK,GAAI,OAClB8J,aAAO,IAAI3B,KAAKS,SAAS5I,IAAQ,0BAGrC,kBAAC,KAAD,CACE8B,KAAK,WACL6H,QAAQ,KACRM,OAAO,UACPV,KAAK,gBAOf,kBAAC7B,GAAA,EAAD,CAAM/D,MAAI,EAACgE,GAAI,GAAIC,GAAI,IACrB,kBAACwB,GAAA,EAAD,CAAOxJ,UAAWZ,EAAQoE,OACxB,kBAACwB,GAAA,EAAD,CACE1C,QAAQ,OACRW,eAAe,gBACfjD,UAAWZ,EAAQ0E,KAEnB,kBAACmB,EAAA,EAAD,CACEpD,QAAQ,KACRuG,UAAU,KACVD,cAAY,EACZnI,UAAWZ,EAAQuE,UAJrB,sCASF,kBAAC,KAAD,CAAqBjB,MAAM,MAAM+G,OAAQ,KACvC,kBAAC,KAAD,CACErF,KAAMsD,EACNgC,OAAO,QACPC,KAAMtO,EAAME,QAAQC,QAAQC,KAC5BmG,OAAQ,CACNgI,IAAK,GACLC,MAAO,GACP7K,KAAM,EACNF,OAAQ,IAGV,kBAAC,KAAD,CAAegL,UAAU,IACzB,kBAAC,KAAD,CACEC,QAAQ,YACRC,cAAe,SAAAC,GAAQ,OACrBC,aAAO,IAAI3B,KAAKS,SAASiB,IAAY,eAGzC,kBAAC,KAAD,CAAOE,UAAU,IACjB,kBAAC,KAAD,CACEC,eAAgB,SAAAhK,GAAI,OAClB8J,aAAO,IAAI3B,KAAKS,SAAS5I,IAAQ,0BAGrC,kBAAC,KAAD,CACE8B,KAAK,WACL6H,QAAQ,MACRM,OAAO,UACPV,KAAK,gBAOf,kBAAC7B,GAAA,EAAD,CAAM/D,MAAI,EAACgE,GAAI,GAAIC,GAAI,IACrB,kBAACwB,GAAA,EAAD,CAAOxJ,UAAWZ,EAAQoE,OACxB,kBAACwB,GAAA,EAAD,CACE1C,QAAQ,OACRW,eAAe,gBACfjD,UAAWZ,EAAQ0E,KAEnB,kBAACmB,EAAA,EAAD,CACEpD,QAAQ,KACRuG,UAAU,KACVD,cAAY,EACZnI,UAAWZ,EAAQuE,UAJrB,6BASF,kBAAC,KAAD,CAAqBjB,MAAM,MAAM+G,OAAQ,KACvC,kBAAC,KAAD,CACErF,KAAMsD,EACNgC,OAAO,QACPC,KAAMtO,EAAME,QAAQC,QAAQC,KAC5BmG,OAAQ,CACNgI,IAAK,GACLC,MAAO,GACP7K,KAAM,EACNF,OAAQ,IAGV,kBAAC,KAAD,CAAegL,UAAU,IACzB,kBAAC,KAAD,CACEC,QAAQ,YACRC,cAAe,SAAAC,GAAQ,OACrBC,aAAO,IAAI3B,KAAKS,SAASiB,IAAY,eAGzC,kBAAC,KAAD,CAAOE,UAAU,IACjB,kBAAC,KAAD,CACEC,eAAgB,SAAAhK,GAAI,OAClB8J,aAAO,IAAI3B,KAAKS,SAAS5I,IAAQ,0BAGrC,kBAAC,KAAD,CACE8B,KAAK,WACL6H,QAAQ,MACRM,OAAO,UACPV,KAAK,iBA9NS,uC,onBCvF9B,IAEMjL,GAAYC,YAAW,SAAAtD,GAAK,MAAK,CACrCgH,KAAM,CACJC,QAAS,QAEXC,OAAO,eACJlH,EAAMmH,YAAYC,GAAG,MAAQ,CAC5BC,MARc,IASdC,WAAY,IAGhBC,OAAO,aACLC,WAbgB,KAcfxH,EAAMmH,YAAYC,GAAG,MAAQ,CAC5BC,MAAM,eAAD,OAfS,IAeT,SAGTI,WAAW,aACT5D,YAAa7D,EAAM0D,QAAQ,IAC1B1D,EAAMmH,YAAYC,GAAG,MAAQ,CAC5BH,QAAS,SAGbS,QAAQ,MACH1H,EAAM2H,OAAOD,QADX,CAELT,QAAS,OACTW,eAAgB,SAChBC,WAAY,WAEdC,YAAa,CACXT,MA/BgB,KAiClBU,QAAS,CACPC,SAAU,EACVC,QAASjI,EAAM0D,QAAQ,IAGzBwE,aAAc,CACZrE,YAAa7D,EAAM0D,QAAQ,IAE7ByE,MAAO,CACLC,WAAYpI,EAAM0D,QAAQ,GAC1B2E,cAAerI,EAAM0D,QAAQ,IAE/B4E,SAAU,CACRC,YAAavI,EAAM0D,QAAQ,GAC3B8E,aAAcxI,EAAM0D,QAAQ,GAC5B2E,cAAerI,EAAM0D,QAAQ,IAE/B+E,IAAK,CACHD,aAAcxI,EAAM0D,QAAQ,IAE9BgF,KAAM,CAGJL,cAAerI,EAAM0D,QAAQ,IAE/BiF,eAAgB,CACdP,WAAYpI,EAAM0D,QAAQ,GAC1B6E,YAAavI,EAAM0D,QAAQ,GAC3B8E,aAAcxI,EAAM0D,QAAQ,GAC5B2E,cAAerI,EAAM0D,QAAQ,IAE/BH,IAAK,CACHC,SAAU,WACVC,OAAQzD,EAAM0D,QAAQ,GACtBC,KAAM3D,EAAM0D,QAAQ,OAiGTuL,OA7Ff,SAAgB/D,GAAQ,IACdd,EAAcc,EAAdd,UACFrG,EAAUV,KAFK,EAGeW,IAAMvC,UAAS,GAH9B,mBAGd6I,EAHc,KAGFa,EAHE,KAKrB,SAASd,IACPc,GAAeb,GANI,MASWtG,IAAMvC,SAAS,MAT1B,mBASdyN,EATc,KASJC,EATI,KAeflL,EAAOmL,QAAQF,GACfjJ,EAAKhC,EAAO,4BAAyBoL,EAhBtB,EAkBYxG,YAAS1F,GAAc,CACtDmC,UAAW,CACTgK,SAAUpE,EAAMjF,MAFZ6C,EAlBa,EAkBbA,QAASxI,EAlBI,EAkBJA,MAAOyI,EAlBH,EAkBGA,KAKxB,GAAID,EAAS,OAAO,yCACpB,GAAIxI,EAAO,OAAO,2BAAIA,EAAM0I,SAE5B,IAAMkD,EAAanD,EAAOA,EAAKmD,WAAa,KACtCqD,EAAUxG,EAAOA,EAAKyG,eAAiB,KAC7C,OAAKtD,EAGH,yBAAKvH,UAAWZ,EAAQiD,MACtB,kBAACoE,EAAA,EAAD,MACA,kBAACqE,GAAA,EAAD,CAAQjM,SAAS,QAAQmB,UAAWZ,EAAQwD,QAC1C,kBAACmI,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACE/K,MAAM,UACNH,aAAW,cACXmL,KAAK,QACL/K,QAASwF,EACT1F,UAAWZ,EAAQ0D,YAEnB,kBAAC,KAAD,OAEF,kBAACkC,GAAA,EAAD,CAAK1C,QAAQ,QACX,kBAAC2C,EAAA,EAAD,CAAYpD,QAAQ,MAAM0F,EAAWnH,MACrC,yBAAKmE,MAAO,CAAE1B,WAAY,SACxB,kBAACZ,EAAA,EAAD,CACEiJ,mBAAkB5J,EAClBO,QAAQ,YACR5B,MAAM,UACNC,QAxCM,SAAAiL,GAClBX,EAAY,SAAAY,GAAI,OAAKA,EAAO,KAAOD,EAAME,kBAmC/B,oBAQA,kBAACC,GAAA,EAAD,CACEhK,GAAIA,EACJhC,KAAMA,EACNiL,SAAUA,EACVhG,MAAO,CAAEgH,OAAQ,QAEjB,kBAAC/B,GAAA,EAAD,KACE,kBAACvE,EAAA,EAAD,CACEjF,UAAWZ,EAAQoM,WACnBjH,MAAO,CAAE7B,MAAO,UAEfkI,SASf,kBAAC,GAAD,CACE3G,SAAUsD,EAAWjG,GACrBmE,UAAWA,EACXC,mBAAoBA,EACpBC,WAAYA,IAGd,0BAAM3F,UAAWZ,EAAQgE,SACvB,yBAAKpD,UAAWZ,EAAQ2D,UACxB,kBAAC+E,GAAA,EAAD,CAAMrC,WAAS,EAAC1G,QAAS,GACvB,kBAAC,GAAD,CAAUwI,WAAYA,IACtB,kBAAC,GAAD,CAAWA,WAAYA,OA1DP,+C,ujBCtG1B,IAAMkE,GAAWC,YAAe,CAC9BC,IAAK,aAGDC,GAAWC,YAAW,SAACC,EAAD,GAAqB,IAAfC,EAAc,EAAdA,QAE1BC,EAAQzO,aAAa0O,QAAQ,SAEnC,MAAO,CACLF,QAAQ,MACHA,EADE,CAELG,cAAeF,EAAK,iBAAaA,GAAU,QAK3CG,GAAS,IAAIC,IAAa,CAC9BC,KAAMT,GAASU,OAAOb,IACtBc,MAAO,IAAIC,MAmBEC,GAhBH,kBACV,kBAACC,EAAA,EAAD,CAAerR,MAAOA,GACpB,kBAACoL,EAAA,EAAD,MACA,kBAAC9J,EAAD,KACE,kBAAC,IAAD,CAAgBwP,OAAQA,IACtB,kBAAC,IAAD,KACE,kBAAC,GAAD,CAAOQ,KAAK,MACZ,kBAACjG,GAAD,CAAOiG,KAAK,WACZ,kBAAC,GAAD,CAAGA,KAAK,OACR,kBAAC,GAAD,CAAQA,KAAK,cCnCHlC,QACW,cAA7BmC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCbNC,IAASC,OAAO,kBAAC,GAAD,MAASC,SAASC,eAAe,SD4H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMzP,KAAK,SAAA0P,GACjCA,EAAaC,iB","file":"static/js/main.4d2d3312.chunk.js","sourcesContent":["import { red } from '@material-ui/core/colors'\nimport { createMuiTheme } from '@material-ui/core/styles'\n\n// A custom theme for this app\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#556cd6'\n    },\n    secondary: {\n      main: '#19857b'\n    },\n    error: {\n      main: red.A400\n    },\n    background: {\n      default: '#fafafa'\n    }\n  }\n})\n\nexport default theme\n","import React, { useState, useEffect, useContext, createContext } from 'react'\nimport * as firebase from 'firebase/app'\nimport 'firebase/auth'\n\nconst config = {\n  apiKey: 'AIzaSyBtAOTryp1Fmv93HM1qR6j62UNkyfs7aqU',\n  authDomain: 'hexchainiot.firebaseapp.com',\n  databaseURL: 'https://hexchainiot.firebaseio.com',\n  projectId: 'hexchainiot',\n  storageBucket: '',\n  messagingSenderId: '581192912622',\n  appId: '1:581192912622:web:5708ef67b226104c'\n}\n!firebase.apps.length ? firebase.initializeApp(config) : firebase.app()\n\nconst authContext = createContext()\n\nexport function ProvideAuth({ children }) {\n  const auth = useProvideAuth()\n  return <authContext.Provider value={auth}>{children}</authContext.Provider>\n}\n\nexport const useAuth = () => {\n  return useContext(authContext)\n}\n\nexport { firebase }\n\nfunction useProvideAuth() {\n  const [user, setUser] = useState(null)\n  const [isLoading, setLoading] = useState(true)\n  const signout = () => {\n    return firebase\n      .auth()\n      .signOut()\n      .then(() => {\n        setUser(false)\n        localStorage.removeItem('token')\n      })\n  }\n\n  useEffect(() => {\n    const unsubscribe = firebase.auth().onAuthStateChanged(async user => {\n      if (user) {\n        setUser(user)\n        localStorage.setItem(\n          'token',\n          await firebase.auth().currentUser.getIdToken(true)\n        )\n        setLoading(false)\n      } else {\n        setUser(false)\n        setLoading(false)\n      }\n    })\n\n    // Cleanup subscription on unmount\n    return () => unsubscribe()\n  }, [])\n\n  // Return the user object and auth methods\n  return {\n    user,\n    isLoading,\n    signout\n  }\n}\n","import gql from 'graphql-tag'\n\nexport const MY_DEVICES = gql`\n  query myDevices {\n    devices {\n      id\n      name\n      description\n      address\n      created_at\n    }\n  }\n`\n\nexport const ADD_DEVICE = gql`\n  mutation add_device($name: String, $description: String) {\n    add_device(name: $name, description: $description) {\n      id\n      name\n      description\n      address\n      created_at\n    }\n  }\n`\n\nexport const STATE_BY_ADDRESS = gql`\n  query stateByaddress($address: String) {\n    stateByAddress(address: $address) {\n      data\n    }\n  }\n`\n\nexport const DEVICE_BY_ID = gql`\n  query deviceById($deviceId: String) {\n    deviceById(deviceId: $deviceId) {\n      id\n      created_at\n      name\n      description\n      address\n    }\n    deviceSendData(deviceId: $deviceId)\n  }\n`\n\nexport const HISTORY_DATA_BLOCKCHAIN_BY_ADDRESS = gql`\n  query historyDataOnBlockchainByAddress($address: String, $last: Int) {\n    historyDataOnBlockchainByAddress(address: $address, last: $last) {\n      timestamp\n      temp\n      ph\n      pin\n      oxy\n    }\n  }\n`\n","import React from 'react'\nimport Fab from '@material-ui/core/Fab'\nimport AddIcon from '@material-ui/icons/Add'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport Button from '@material-ui/core/Button'\nimport TextField from '@material-ui/core/TextField'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport { Formik, Form } from 'formik'\nimport { makeStyles } from '@material-ui/core/styles'\n\nimport { useMutation } from '@apollo/react-hooks'\nimport { ADD_DEVICE } from '../shared/graphq'\n\nconst useStyles = makeStyles(theme => ({\n  fab: {\n    position: 'fixed',\n    bottom: theme.spacing(2),\n    left: theme.spacing(2)\n  },\n  action: {\n    marginRight: theme.spacing(2),\n    marginBottom: theme.spacing(2)\n  }\n}))\n\nexport default () => {\n  const classes = useStyles()\n  const [open, setOpen] = React.useState(false)\n\n  const [addDevice] = useMutation(ADD_DEVICE, {\n    refetchQueries: [`myDevices`]\n  })\n\n  function handleClickOpen() {\n    setOpen(true)\n  }\n\n  function handleClose() {\n    setOpen(false)\n  }\n\n  return (\n    <>\n      <Tooltip title=\"Add new device\" aria-label=\"add\">\n        <Fab\n          aria-label=\"add-form\"\n          className={classes.fab}\n          color=\"primary\"\n          onClick={handleClickOpen}\n        >\n          <AddIcon />\n        </Fab>\n      </Tooltip>\n      <Formik\n        initialValues={{ name: '', description: '' }}\n        validate={values => {\n          let errors = {}\n          if (!values.name) {\n            errors.name = 'Required'\n          }\n          return errors\n        }}\n        onSubmit={(values, { setSubmitting }) => {\n          setSubmitting(false)\n          addDevice({ variables: { ...values } })\n          setSubmitting(true)\n          handleClose()\n        }}\n      >\n        {({\n          values,\n          errors,\n          handleChange,\n          handleBlur,\n          handleSubmit,\n          isSubmitting\n        }) => (\n          <Form>\n            <Dialog\n              maxWidth=\"sm\"\n              fullWidth={true}\n              open={open}\n              onClose={handleClose}\n              aria-labelledby=\"form-dialog-title\"\n            >\n              <DialogTitle id=\"form-dialog-title\">Add Device</DialogTitle>\n              <DialogContent>\n                <DialogContentText>\n                  Add a name and description for device\n                </DialogContentText>\n\n                <TextField\n                  id=\"form-name\"\n                  label=\"Name\"\n                  fullWidth={true}\n                  placeholder=\"eg. Contact Page\"\n                  margin=\"normal\"\n                  variant=\"outlined\"\n                  name=\"name\"\n                  error={errors.name ? true : false}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  value={values.name}\n                />\n\n                <TextField\n                  id=\"form-description\"\n                  label=\"Description\"\n                  placeholder=\"eg. For website kene.io\"\n                  fullWidth={true}\n                  margin=\"normal\"\n                  variant=\"outlined\"\n                  name=\"description\"\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  value={values.description}\n                />\n              </DialogContent>\n              <DialogActions className={classes.action}>\n                <Button\n                  type=\"submit\"\n                  disabled={isSubmitting}\n                  color=\"primary\"\n                  variant=\"contained\"\n                  size=\"large\"\n                  onClick={handleSubmit}\n                >\n                  Add Device\n                </Button>\n              </DialogActions>\n            </Dialog>\n          </Form>\n        )}\n      </Formik>\n    </>\n  )\n}\n","import React from 'react'\n\nimport Divider from '@material-ui/core/Divider'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport Typography from '@material-ui/core/Typography'\nimport Box from '@material-ui/core/Box'\n\nimport { Link } from '@reach/router'\n\nimport { makeStyles } from '@material-ui/core/styles'\nimport { useQuery } from '@apollo/react-hooks'\nimport { MY_DEVICES } from '../shared/graphq'\n\nconst drawerWidth = 345\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex'\n  },\n  drawer: {\n    [theme.breakpoints.up('sm')]: {\n      width: drawerWidth,\n      flexShrink: 0\n    }\n  },\n  appBar: {\n    marginLeft: drawerWidth,\n    [theme.breakpoints.up('sm')]: {\n      width: `calc(100% - ${drawerWidth}px)`\n    }\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up('sm')]: {\n      display: 'none'\n    }\n  },\n  toolbar: {\n    ...theme.mixins.toolbar,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  drawerPaper: {\n    width: drawerWidth\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3)\n  },\n\n  extendedIcon: {\n    marginRight: theme.spacing(1)\n  },\n  paper: {\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2)\n  },\n  textCard: {\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    paddingBottom: theme.spacing(2)\n  },\n  box: {\n    paddingRight: theme.spacing(2)\n  },\n  item: {\n    paddingBottom: theme.spacing(2)\n  },\n  textListDevice: {\n    paddingTop: theme.spacing(1),\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    paddingBottom: theme.spacing(1)\n  },\n  fab: {\n    position: 'absolute',\n    bottom: theme.spacing(2),\n    left: theme.spacing(2)\n  }\n}))\n\nexport default ({ idSelect }) => {\n  const classes = useStyles()\n\n  const { loading, error, data } = useQuery(MY_DEVICES)\n  if (loading) return <p>Loading...</p>\n  if (error) return <p>{error.message}</p>\n\n  return (\n    <List style={{ paddingTop: 0 }}>\n      {data && data.devices && data.devices.length ? (\n        data.devices.map(item => (\n          <Link\n            to={`/${item.id}`}\n            key={item.id}\n            style={{\n              textDecoration: 'initial',\n              color: 'initial',\n              fontSize: 'initial'\n            }}\n          >\n            <ListItem\n              button={true}\n              style={item.id === idSelect ? { background: '#eff3f6' } : null}\n            >\n              <Box className={classes.item}>\n                <Typography variant=\"body1\" style={{ marginTop: '6px' }}>\n                  {item.name}\n                </Typography>\n                <ListItemText secondary={item.created_at} />\n                <Typography variant=\"body2\">{item.description}</Typography>\n              </Box>\n            </ListItem>\n            <Divider />\n          </Link>\n        ))\n      ) : (\n        <Box\n          display=\"flex\"\n          justifyContent=\"center\"\n          alignItems=\"center\"\n          marginTop=\"50px\"\n        >\n          <Box textAlign=\"center\">\n            <img width=\"200\" src=\"/static/svg/no-device.svg\" alt=\"no-device\" />\n            <Typography style={{ marginTop: '16px' }}>\n              Không có thiết bị\n            </Typography>\n          </Box>\n        </Box>\n      )}\n    </List>\n  )\n}\n","import React from 'react'\n\nimport Divider from '@material-ui/core/Divider'\nimport Drawer from '@material-ui/core/Drawer'\nimport Hidden from '@material-ui/core/Hidden'\nimport Typography from '@material-ui/core/Typography'\n\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\nimport AddDevice from '../components/add-device'\nimport ListDevices from '../components/list-data'\n\nconst drawerWidth = 340\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex'\n  },\n  drawer: {\n    [theme.breakpoints.up('sm')]: {\n      width: drawerWidth,\n      flexShrink: 0\n    }\n  },\n  appBar: {\n    marginLeft: drawerWidth,\n    [theme.breakpoints.up('sm')]: {\n      width: `calc(100% - ${drawerWidth}px)`\n    }\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up('sm')]: {\n      display: 'none'\n    }\n  },\n  toolbar: {\n    ...theme.mixins.toolbar,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  drawerPaper: {\n    width: drawerWidth\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3)\n  },\n\n  extendedIcon: {\n    marginRight: theme.spacing(1)\n  },\n  paper: {\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2)\n  },\n  textCard: {\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    paddingBottom: theme.spacing(2)\n  },\n  box: {\n    paddingRight: theme.spacing(2)\n  },\n  item: {\n    // paddingLeft: theme.spacing(2),\n    // paddingRight: theme.spacing(2),\n    paddingBottom: theme.spacing(2)\n  },\n  textListDevice: {\n    paddingTop: theme.spacing(1),\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    paddingBottom: theme.spacing(1)\n  },\n  fab: {\n    position: 'absolute',\n    bottom: theme.spacing(2),\n    left: theme.spacing(2)\n  }\n}))\n\nexport default ({ container, handleDrawerToggle, mobileOpen, idSelect }) => {\n  const classes = useStyles()\n  const theme = useTheme()\n\n  const drawer = (\n    <div>\n      <div className={classes.toolbar}>\n        <img width=\"45\" src=\"/static/logo.png\" alt=\"logo\" />\n      </div>\n      <Divider />\n      <Typography\n        variant=\"button\"\n        display=\"block\"\n        className={classes.textListDevice}\n      >\n        Danh sách thiết bị\n      </Typography>\n      <Divider />\n      <Divider />\n\n      <ListDevices idSelect={idSelect} />\n      <AddDevice />\n    </div>\n  )\n\n  return (\n    <nav className={classes.drawer} aria-label=\"mailbox folders\">\n      <Hidden smUp implementation=\"css\">\n        <Drawer\n          container={container}\n          variant=\"temporary\"\n          anchor={theme.direction === 'rtl' ? 'right' : 'left'}\n          open={mobileOpen}\n          onClose={handleDrawerToggle}\n          classes={{\n            paper: classes.drawerPaper\n          }}\n          ModalProps={{\n            keepMounted: true\n          }}\n        >\n          {drawer}\n        </Drawer>\n      </Hidden>\n      <Hidden xsDown implementation=\"css\">\n        <Drawer\n          classes={{\n            paper: classes.drawerPaper\n          }}\n          variant=\"permanent\"\n          open\n        >\n          {drawer}\n        </Drawer>\n      </Hidden>\n    </nav>\n  )\n}\n","import React from 'react'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport Sidebar from '../components/sidebar'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst drawerWidth = 340\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex'\n  },\n  drawer: {\n    [theme.breakpoints.up('sm')]: {\n      width: drawerWidth,\n      flexShrink: 0\n    }\n  },\n  appBar: {\n    marginLeft: drawerWidth,\n    [theme.breakpoints.up('sm')]: {\n      width: `calc(100% - ${drawerWidth}px)`\n    }\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up('sm')]: {\n      display: 'none'\n    }\n  },\n  toolbar: {\n    ...theme.mixins.toolbar,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  drawerPaper: {\n    width: drawerWidth\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3)\n  },\n\n  extendedIcon: {\n    marginRight: theme.spacing(1)\n  },\n  paper: {\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2)\n  },\n  textCard: {\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    paddingBottom: theme.spacing(2)\n  },\n  box: {\n    paddingRight: theme.spacing(2)\n  },\n  item: {\n    paddingBottom: theme.spacing(2)\n  },\n  textListDevice: {\n    paddingTop: theme.spacing(1),\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    paddingBottom: theme.spacing(1)\n  },\n  fab: {\n    position: 'absolute',\n    bottom: theme.spacing(2),\n    left: theme.spacing(2)\n  }\n}))\n\nfunction Index(props) {\n  const { container } = props\n  const classes = useStyles()\n  const [mobileOpen, setMobileOpen] = React.useState(false)\n\n  function handleDrawerToggle() {\n    setMobileOpen(!mobileOpen)\n  }\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <Sidebar\n        container={container}\n        handleDrawerToggle={handleDrawerToggle}\n        mobileOpen={mobileOpen}\n      />\n\n      <main className={classes.content}>\n        <div className={classes.toolbar} />\n        {/* <Grid container spacing={3}>\n          <CardData deviceById={deviceById} />\n          <ChartData deviceById={deviceById} />\n        </Grid> */}\n      </main>\n    </div>\n  )\n}\n\nexport default Index\n","import React from 'react'\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth'\nimport { useAuth, firebase } from '../components/use-auth'\n\nexport default function Login() {\n  const auth = useAuth()\n  const uiConfig = {\n    signInFlow: 'popup',\n    signInOptions: [\n      firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n      firebase.auth.PhoneAuthProvider.PROVIDER_ID\n    ],\n    callbacks: {\n      signInSuccessWithAuthResult: () => false\n    }\n  }\n  return (\n    <>\n      {!auth.isLoading ? (\n        auth.user ? (\n          <h1>abc</h1>\n        ) : (\n          <StyledFirebaseAuth\n            uiConfig={uiConfig}\n            firebaseAuth={firebase.auth()}\n          />\n        )\n      ) : (\n        <p>Loading........</p>\n      )}\n    </>\n  )\n}\n","import React from 'react'\nimport { useQuery } from '@apollo/react-hooks'\nimport { gql } from 'apollo-boost'\n\nexport default function ExchangeRates() {\n  const { loading, error, data } = useQuery(gql`\n    {\n      hello\n    }\n  `)\n\n  if (loading) return <p>Loading...</p>\n  if (error) return <p>{error.message}</p>\n  console.log(data)\n  return (\n    <>\n      <h1>ad</h1>\n    </>\n  )\n}\n","import React from 'react'\nimport Card from '@material-ui/core/Card'\nimport Typography from '@material-ui/core/Typography'\nimport CardContent from '@material-ui/core/CardContent'\nimport Grid from '@material-ui/core/Grid'\nimport { formatDistanceToNow } from 'date-fns'\nimport { vi } from 'date-fns/locale'\n\nimport { useQuery } from '@apollo/react-hooks'\nimport { STATE_BY_ADDRESS } from '../shared/graphq'\n\nexport default ({ deviceById }) => {\n  const { loading, error, data } = useQuery(STATE_BY_ADDRESS, {\n    variables: {\n      address: deviceById.address\n    },\n    pollInterval: 1000\n  })\n  if (loading) return <p>Loading...</p>\n  if (error) return <p>{error.message}</p>\n  const dataRes =\n    data && data.stateByAddress ? JSON.parse(data.stateByAddress.data) : null\n  if (!dataRes) return <p>No data</p>\n\n  return (\n    <>\n      <Grid item xs={6} sm={3}>\n        <Card>\n          <CardContent>\n            <Typography gutterBottom>Cảm biến Nhiệt độ</Typography>\n            <Typography variant=\"h3\" component=\"h2\">\n              <img width=\"48\" alt=\"icon\" src=\"/static/icons/temp.png\" />{' '}\n              {dataRes.temp}{' '}\n              <Typography variant=\"button\" component=\"span\">\n                °C\n              </Typography>\n            </Typography>\n            <Typography\n              variant=\"body2\"\n              color=\"textSecondary\"\n              style={{ marginTop: '10px' }}\n            >\n              Mới nhất{' '}\n              {formatDistanceToNow(new Date(dataRes.timestamp), { locale: vi })}{' '}\n              trước\n            </Typography>\n          </CardContent>\n        </Card>\n      </Grid>\n\n      <Grid item xs={6} sm={3}>\n        <Card>\n          <CardContent>\n            <Typography gutterBottom>Cảm biến pH</Typography>\n            <Typography variant=\"h3\" component=\"h2\">\n              <img width=\"48\" alt=\"icon\" src=\"/static/icons/ph-meter.png\" />{' '}\n              {dataRes.ph}\n            </Typography>\n            <Typography\n              variant=\"body2\"\n              color=\"textSecondary\"\n              style={{ marginTop: '10px' }}\n            >\n              Mới nhất{' '}\n              {formatDistanceToNow(new Date(dataRes.timestamp), { locale: vi })}{' '}\n              trước\n            </Typography>\n          </CardContent>\n        </Card>\n      </Grid>\n\n      <Grid item xs={6} sm={3}>\n        <Card>\n          <CardContent>\n            <Typography gutterBottom>Cảm biến Oxy hòa tan</Typography>\n            <Typography variant=\"h3\" component=\"h2\">\n              <img width=\"48\" alt=\"icon\" src=\"/static/icons/oxygen.png\" />{' '}\n              {dataRes.oxy}{' '}\n              <Typography variant=\"button\" component=\"span\">\n                PPM\n              </Typography>\n            </Typography>\n            <Typography\n              variant=\"body2\"\n              color=\"textSecondary\"\n              style={{ marginTop: '10px' }}\n            >\n              Mới nhất{' '}\n              {formatDistanceToNow(new Date(dataRes.timestamp), { locale: vi })}{' '}\n              trước\n            </Typography>\n          </CardContent>\n        </Card>\n      </Grid>\n\n      <Grid item xs={6} sm={3}>\n        <Card>\n          <CardContent>\n            <Typography gutterBottom>Dung lượng Pin</Typography>\n            <Typography variant=\"h3\" component=\"h2\">\n              <img width=\"48\" alt=\"icon\" src=\"/static/icons/battery.png\" />{' '}\n              {dataRes.pin}{' '}\n              <Typography variant=\"button\" component=\"span\">\n                %\n              </Typography>\n            </Typography>\n            <Typography\n              variant=\"body2\"\n              color=\"textSecondary\"\n              style={{ marginTop: '10px' }}\n            >\n              Mới nhất{' '}\n              {formatDistanceToNow(new Date(dataRes.timestamp), { locale: vi })}{' '}\n              trước\n            </Typography>\n          </CardContent>\n        </Card>\n      </Grid>\n    </>\n  )\n}\n","import React from 'react'\nimport Typography from '@material-ui/core/Typography'\nimport Grid from '@material-ui/core/Grid'\nimport Paper from '@material-ui/core/Paper'\nimport NativeSelect from '@material-ui/core/NativeSelect'\nimport Input from '@material-ui/core/Input'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\nimport Box from '@material-ui/core/Box'\nimport { format } from 'date-fns'\n\nimport { useQuery } from '@apollo/react-hooks'\nimport { HISTORY_DATA_BLOCKCHAIN_BY_ADDRESS } from '../shared/graphq'\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip } from 'recharts'\nimport ResponsiveContainer from 'recharts/lib/component/ResponsiveContainer'\n\nconst drawerWidth = 345\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex'\n  },\n  drawer: {\n    [theme.breakpoints.up('sm')]: {\n      width: drawerWidth,\n      flexShrink: 0\n    }\n  },\n  appBar: {\n    marginLeft: drawerWidth,\n    [theme.breakpoints.up('sm')]: {\n      width: `calc(100% - ${drawerWidth}px)`\n    }\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up('sm')]: {\n      display: 'none'\n    }\n  },\n  toolbar: {\n    ...theme.mixins.toolbar,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  drawerPaper: {\n    width: drawerWidth\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3)\n  },\n\n  extendedIcon: {\n    marginRight: theme.spacing(1)\n  },\n  paper: {\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2)\n  },\n  textCard: {\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    paddingBottom: theme.spacing(2)\n  },\n  box: {\n    paddingRight: theme.spacing(2)\n  },\n  item: {\n    // paddingLeft: theme.spacing(2),\n    // paddingRight: theme.spacing(2),\n    paddingBottom: theme.spacing(2)\n  },\n  textListDevice: {\n    paddingTop: theme.spacing(1),\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    paddingBottom: theme.spacing(1)\n  },\n  fab: {\n    position: 'absolute',\n    bottom: theme.spacing(2),\n    left: theme.spacing(2)\n  }\n}))\nexport default ({ deviceById }) => {\n  const classes = useStyles()\n  const theme = useTheme()\n\n  const [last, setLast] = React.useState(10)\n  const { loading, error, data } = useQuery(\n    HISTORY_DATA_BLOCKCHAIN_BY_ADDRESS,\n    {\n      variables: {\n        address: deviceById.address,\n        last: parseInt(last)\n      },\n      pollInterval: 1000\n    }\n  )\n  if (loading) return <p>Loading...</p>\n  if (error) return <p>{error.message}</p>\n  const dataRes =\n    data && data.historyDataOnBlockchainByAddress\n      ? data.historyDataOnBlockchainByAddress\n      : []\n  if (!dataRes.length) return <p>No data</p>\n\n  return (\n    <>\n      <Grid item xs={12} sm={12}>\n        <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n          <Typography variant=\"button\">Dữ liệu lịch sử</Typography>\n          <div>\n            <NativeSelect\n              value={last}\n              onChange={e => setLast(e.target.value)}\n              input={<Input name=\"last\" id=\"age-native-label-placeholder\" />}\n            >\n              <option value={10}>10 dữ liệu gần nhất</option>\n              <option value={30}>30 dữ liệu gần nhất</option>\n              <option value={60}>60 dữ liệu gần nhất</option>\n            </NativeSelect>\n            <FormHelperText>Chọn để truy vấn lịch sử</FormHelperText>\n          </div>\n        </Box>\n      </Grid>\n      <Grid item xs={12} sm={12}>\n        <Paper className={classes.paper}>\n          <Box\n            display=\"flex\"\n            justifyContent=\"space-between\"\n            className={classes.box}\n          >\n            <Typography\n              variant=\"h6\"\n              component=\"h6\"\n              gutterBottom\n              className={classes.textCard}\n            >\n              Nhiệt độ\n            </Typography>\n          </Box>\n          <ResponsiveContainer width=\"99%\" height={289}>\n            <LineChart\n              data={dataRes}\n              syncId=\"anyId\"\n              fill={theme.palette.primary.main}\n              margin={{\n                top: 10,\n                right: 30,\n                left: 0,\n                bottom: 0\n              }}\n            >\n              <CartesianGrid vertical={false} />\n              <XAxis\n                dataKey=\"timestamp\"\n                tickFormatter={tickItem =>\n                  format(new Date(parseInt(tickItem)), 'HH:mm:ss')\n                }\n              />\n              <YAxis axisLine={false} />\n              <Tooltip\n                labelFormatter={name =>\n                  format(new Date(parseInt(name)), 'yyyy-MM-dd HH:mm:ss')\n                }\n              />\n              <Line\n                type=\"monotone\"\n                dataKey=\"temp\"\n                stroke=\"#8884d8\"\n                fill=\"#8884d8\"\n              />\n            </LineChart>\n          </ResponsiveContainer>\n        </Paper>\n      </Grid>\n\n      <Grid item xs={12} sm={12}>\n        <Paper className={classes.paper}>\n          <Box\n            display=\"flex\"\n            justifyContent=\"space-between\"\n            className={classes.box}\n          >\n            <Typography\n              variant=\"h6\"\n              component=\"h6\"\n              gutterBottom\n              className={classes.textCard}\n            >\n              Cảm biến pH\n            </Typography>\n          </Box>\n          <ResponsiveContainer width=\"99%\" height={289}>\n            <LineChart\n              data={dataRes}\n              syncId=\"anyId\"\n              fill={theme.palette.primary.main}\n              margin={{\n                top: 10,\n                right: 30,\n                left: 0,\n                bottom: 0\n              }}\n            >\n              <CartesianGrid vertical={false} />\n              <XAxis\n                dataKey=\"timestamp\"\n                tickFormatter={tickItem =>\n                  format(new Date(parseInt(tickItem)), 'HH:mm:ss')\n                }\n              />\n              <YAxis axisLine={false} />\n              <Tooltip\n                labelFormatter={name =>\n                  format(new Date(parseInt(name)), 'yyyy-MM-dd HH:mm:ss')\n                }\n              />\n              <Line\n                type=\"monotone\"\n                dataKey=\"ph\"\n                stroke=\"#8884d8\"\n                fill=\"#8884d8\"\n              />\n            </LineChart>\n          </ResponsiveContainer>\n        </Paper>\n      </Grid>\n\n      <Grid item xs={12} sm={12}>\n        <Paper className={classes.paper}>\n          <Box\n            display=\"flex\"\n            justifyContent=\"space-between\"\n            className={classes.box}\n          >\n            <Typography\n              variant=\"h6\"\n              component=\"h6\"\n              gutterBottom\n              className={classes.textCard}\n            >\n              Cảm biến Oxy hòa tan\n            </Typography>\n          </Box>\n          <ResponsiveContainer width=\"99%\" height={289}>\n            <LineChart\n              data={dataRes}\n              syncId=\"anyId\"\n              fill={theme.palette.primary.main}\n              margin={{\n                top: 10,\n                right: 30,\n                left: 0,\n                bottom: 0\n              }}\n            >\n              <CartesianGrid vertical={false} />\n              <XAxis\n                dataKey=\"timestamp\"\n                tickFormatter={tickItem =>\n                  format(new Date(parseInt(tickItem)), 'HH:mm:ss')\n                }\n              />\n              <YAxis axisLine={false} />\n              <Tooltip\n                labelFormatter={name =>\n                  format(new Date(parseInt(name)), 'yyyy-MM-dd HH:mm:ss')\n                }\n              />\n              <Line\n                type=\"monotone\"\n                dataKey=\"oxy\"\n                stroke=\"#8884d8\"\n                fill=\"#8884d8\"\n              />\n            </LineChart>\n          </ResponsiveContainer>\n        </Paper>\n      </Grid>\n\n      <Grid item xs={12} sm={12}>\n        <Paper className={classes.paper}>\n          <Box\n            display=\"flex\"\n            justifyContent=\"space-between\"\n            className={classes.box}\n          >\n            <Typography\n              variant=\"h6\"\n              component=\"h6\"\n              gutterBottom\n              className={classes.textCard}\n            >\n              Dung lượng Pin\n            </Typography>\n          </Box>\n          <ResponsiveContainer width=\"99%\" height={289}>\n            <LineChart\n              data={dataRes}\n              syncId=\"anyId\"\n              fill={theme.palette.primary.main}\n              margin={{\n                top: 10,\n                right: 30,\n                left: 0,\n                bottom: 0\n              }}\n            >\n              <CartesianGrid vertical={false} />\n              <XAxis\n                dataKey=\"timestamp\"\n                tickFormatter={tickItem =>\n                  format(new Date(parseInt(tickItem)), 'HH:mm:ss')\n                }\n              />\n              <YAxis axisLine={false} />\n              <Tooltip\n                labelFormatter={name =>\n                  format(new Date(parseInt(name)), 'yyyy-MM-dd HH:mm:ss')\n                }\n              />\n              <Line\n                type=\"monotone\"\n                dataKey=\"pin\"\n                stroke=\"#8884d8\"\n                fill=\"#8884d8\"\n              />\n            </LineChart>\n          </ResponsiveContainer>\n        </Paper>\n      </Grid>\n    </>\n  )\n}\n","import React from 'react'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport Grid from '@material-ui/core/Grid'\nimport { useQuery } from '@apollo/react-hooks'\nimport CardData from '../components/card-data'\nimport Sidebar from '../components/sidebar'\nimport ChartData from '../components/chart-data'\nimport Typography from '@material-ui/core/Typography'\nimport AppBar from '@material-ui/core/AppBar'\nimport MenuIcon from '@material-ui/icons/Menu'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport IconButton from '@material-ui/core/IconButton'\nimport Popper from '@material-ui/core/Popper'\nimport Paper from '@material-ui/core/Paper'\nimport Box from '@material-ui/core/Box'\nimport Button from '@material-ui/core/Button'\n\nimport { makeStyles } from '@material-ui/core/styles'\nimport { DEVICE_BY_ID } from '../shared/graphq'\n\nconst drawerWidth = 340\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex'\n  },\n  drawer: {\n    [theme.breakpoints.up('sm')]: {\n      width: drawerWidth,\n      flexShrink: 0\n    }\n  },\n  appBar: {\n    marginLeft: drawerWidth,\n    [theme.breakpoints.up('sm')]: {\n      width: `calc(100% - ${drawerWidth}px)`\n    }\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up('sm')]: {\n      display: 'none'\n    }\n  },\n  toolbar: {\n    ...theme.mixins.toolbar,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  drawerPaper: {\n    width: drawerWidth\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3)\n  },\n\n  extendedIcon: {\n    marginRight: theme.spacing(1)\n  },\n  paper: {\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2)\n  },\n  textCard: {\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    paddingBottom: theme.spacing(2)\n  },\n  box: {\n    paddingRight: theme.spacing(2)\n  },\n  item: {\n    // paddingLeft: theme.spacing(2),\n    // paddingRight: theme.spacing(2),\n    paddingBottom: theme.spacing(2)\n  },\n  textListDevice: {\n    paddingTop: theme.spacing(1),\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    paddingBottom: theme.spacing(1)\n  },\n  fab: {\n    position: 'absolute',\n    bottom: theme.spacing(2),\n    left: theme.spacing(2)\n  }\n}))\n\nfunction Device(props) {\n  const { container } = props\n  const classes = useStyles()\n  const [mobileOpen, setMobileOpen] = React.useState(false)\n\n  function handleDrawerToggle() {\n    setMobileOpen(!mobileOpen)\n  }\n\n  const [anchorEl, setAnchorEl] = React.useState(null)\n\n  const handleClick = event => {\n    setAnchorEl(prev => (prev ? null : event.currentTarget))\n  }\n\n  const open = Boolean(anchorEl)\n  const id = open ? 'no-transition-popper' : undefined\n\n  const { loading, error, data } = useQuery(DEVICE_BY_ID, {\n    variables: {\n      deviceId: props.id\n    }\n  })\n  if (loading) return <p>Loading...</p>\n  if (error) return <p>{error.message}</p>\n\n  const deviceById = data ? data.deviceById : null\n  const snippet = data ? data.deviceSendData : null\n  if (!deviceById) return <p>No device exist</p>\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <AppBar position=\"fixed\" className={classes.appBar}>\n        <Toolbar>\n          <IconButton\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            edge=\"start\"\n            onClick={handleDrawerToggle}\n            className={classes.menuButton}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Box display=\"flex\">\n            <Typography variant=\"h6\">{deviceById.name}</Typography>\n            <div style={{ marginLeft: '50px' }}>\n              <Button\n                aria-describedby={id}\n                variant=\"contained\"\n                color=\"default\"\n                onClick={handleClick}\n              >\n                Lấy snippet\n              </Button>\n              <Popper\n                id={id}\n                open={open}\n                anchorEl={anchorEl}\n                style={{ zIndex: 12345 }}\n              >\n                <Paper>\n                  <Typography\n                    className={classes.typography}\n                    style={{ width: '400px' }}\n                  >\n                    {snippet}\n                  </Typography>\n                </Paper>\n              </Popper>\n            </div>\n          </Box>\n        </Toolbar>\n      </AppBar>\n\n      <Sidebar\n        idSelect={deviceById.id}\n        container={container}\n        handleDrawerToggle={handleDrawerToggle}\n        mobileOpen={mobileOpen}\n      />\n\n      <main className={classes.content}>\n        <div className={classes.toolbar} />\n        <Grid container spacing={3}>\n          <CardData deviceById={deviceById} />\n          <ChartData deviceById={deviceById} />\n        </Grid>\n      </main>\n    </div>\n  )\n}\n\nexport default Device\n","import React from 'react'\nimport { ApolloProvider } from '@apollo/react-hooks'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport { ThemeProvider } from '@material-ui/styles'\nimport { Router } from '@reach/router'\nimport { ApolloClient } from 'apollo-client'\nimport { createHttpLink } from 'apollo-link-http'\nimport { setContext } from 'apollo-link-context'\nimport { InMemoryCache } from 'apollo-cache-inmemory'\n\nimport theme from './theme'\nimport { ProvideAuth } from './components/use-auth'\nimport Index from './pages/index'\nimport Login from './pages/login'\nimport G from './pages/g'\nimport Device from './pages/device'\n\nconst httpLink = createHttpLink({\n  uri: '/graphql'\n})\n\nconst authLink = setContext((_, { headers }) => {\n  // get the authentication token from local storage if it exists\n  const token = localStorage.getItem('token')\n  // return the headers to the context so httpLink can read them\n  return {\n    headers: {\n      ...headers,\n      authorization: token ? `Bearer ${token}` : ''\n    }\n  }\n})\n\nconst client = new ApolloClient({\n  link: authLink.concat(httpLink),\n  cache: new InMemoryCache()\n})\n\nconst App = () => (\n  <ThemeProvider theme={theme}>\n    <CssBaseline />\n    <ProvideAuth>\n      <ApolloProvider client={client}>\n        <Router>\n          <Index path=\"/\" />\n          <Login path=\"/login\" />\n          <G path=\"/g\" />\n          <Device path=\"/:id\" />\n        </Router>\n      </ApolloProvider>\n    </ProvideAuth>\n  </ThemeProvider>\n)\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}